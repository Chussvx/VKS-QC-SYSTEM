<!-- Styles.html - Global CSS variables and utility classes for GAS -->
<!-- Usage in GAS: <?!= include('Components/Styles'); ?> -->

<style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap');
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;500;600;700&display=swap');
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Lao:wght@400;500;600;700&display=swap');

    /* =====================================================
     CSS VARIABLES - Design Tokens
     ===================================================== */
    :root {
        /* =====================================================
           iOS 26 LIQUID GLASS — DESIGN TOKENS
           ===================================================== */

        /* Colors — Premium Emerald Green */
        --primary: #10b981;
        --primary-hover: #059669;
        --primary-active: #047857;
        --primary-content: #ffffff;
        --primary-light: rgba(16, 185, 129, 0.08);
        --primary-glow: rgba(16, 185, 129, 0.12);

        /* Surfaces */
        --surface: #ffffff;
        --background: #f2f2f7;
        --border: rgba(60, 60, 67, 0.08);
        --border-heavy: rgba(60, 60, 67, 0.15);
        --hover-bg: rgba(0, 0, 0, 0.04);

        /* Text */
        --text-primary: #1e293b;
        --text-secondary: #64748b;
        --text-muted: #94a3b8;

        /* Sidebar */
        --sidebar-bg: rgba(255, 255, 255, 0.72);
        --sidebar-border: rgba(60, 60, 67, 0.08);
        --sidebar-active-bg: rgba(16, 185, 129, 0.10);
        --sidebar-active-text: #059669;

        /* Semantic Colors */
        --success: #10b981;
        --success-light: rgba(16, 185, 129, 0.08);
        --warning: #f59e0b;
        --warning-light: rgba(245, 158, 11, 0.08);
        --error: #ef4444;
        --error-light: rgba(239, 68, 68, 0.08);
        --info: #3b82f6;
        --info-light: rgba(59, 130, 246, 0.08);

        /* iOS 26 Depth — 3-Tier Shadow System */
        --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.04),
            0 1px 3px rgba(0, 0, 0, 0.06);
        --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.08),
            0 2px 4px rgba(0, 0, 0, 0.04);
        --shadow-lg: 0 12px 40px rgba(0, 0, 0, 0.12),
            0 4px 12px rgba(0, 0, 0, 0.06);
        --shadow-modal: 0 25px 60px rgba(0, 0, 0, 0.18),
            0 8px 20px rgba(0, 0, 0, 0.08);

        /* Spacing */
        --radius-sm: 0.375rem;
        --radius-md: 0.5rem;
        --radius-lg: 0.75rem;
        --radius-xl: 1rem;
        --radius-2xl: 1.5rem;
        --radius-full: 9999px;

        /* Typography */
        --font-family: 'Noto Sans', 'Noto Sans Lao', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
        --tracking-tight: -0.025em;
        --tracking-normal: 0;
        --tracking-wide: 0.04em;

        /* iOS 26 Motion System */
        --spring-bounce: cubic-bezier(0.32, 0.72, 0, 1);
        --spring-snappy: cubic-bezier(0.25, 0.46, 0.45, 0.94);
        --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
        --ease-in-expo: cubic-bezier(0.7, 0, 0.84, 0);
        --ease-standard: cubic-bezier(0.4, 0, 0.2, 1);
        --duration-instant: 50ms;
        --duration-fast: 150ms;
        --duration-normal: 250ms;
        --duration-slow: 350ms;

        /* Liquid Glass Tokens */
        --glass-clear: rgba(255, 255, 255, 0.45);
        --glass-frosted: rgba(255, 255, 255, 0.72);
        --glass-solid: rgba(255, 255, 255, 0.92);
        --glass-blur-light: blur(20px);
        --glass-blur-heavy: blur(40px);
        --glass-bg: rgba(255, 255, 255, 0.7);
        --glass-border: rgba(255, 255, 255, 0.4);
        --glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.07);
        --glass-blur: blur(12px);

        /* Tap target */
        --tap-target: 2.75rem;
    }

    /* Dark Mode Override (Placeholder for now, focused on Light Mode from screenshot) */
    .dark {
        --surface: #0f172a;
        --background: #020617;
        --border: #1e293b;
        --hover-bg: #1e293b;

        --text-primary: #f1f5f9;
        --text-secondary: #94a3b8;
        --text-muted: #64748b;

        --success-light: rgba(16, 185, 129, 0.2);
        --warning-light: rgba(245, 158, 11, 0.2);
        --error-light: rgba(239, 68, 68, 0.2);
        --info-light: rgba(59, 130, 246, 0.2);
    }

    /* =====================================================
     BASE STYLES
     ===================================================== */
    *,
    *::before,
    *::after {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
    }

    html,
    body {
        height: 100%;
        font-family: var(--font-family);
        background: var(--background);
        color: var(--text-primary);
        overflow: hidden;
    }

    body {
        font-family: var(--font-family);
        background-color: var(--bg-primary);
        color: var(--text-primary);
        line-height: 1.5;
        -webkit-font-smoothing: antialiased;
    }

    /* Lao Language Support */
    [lang="lo"] {
        font-family: var(--font-lao), var(--font-sans);
    }

    body {
        display: flex;
    }

    /* Global Font Inheritance - Ensures Noto Sans Lao on all elements */
    button,
    input,
    select,
    textarea,
    .btn,
    .custom-select-trigger,
    .custom-select-item,
    .custom-select-value,
    .form-input,
    .form-label {
        font-family: inherit;
    }

    /* =====================================================
     LAYOUT UTILITIES
     ===================================================== */
    .app-container {
        display: flex;
        width: 100%;
        height: 100%;
    }

    .main-content {
        flex: 1;
        display: flex;
        flex-direction: column;
        height: 100%;
        overflow: hidden;
    }

    .page-container {
        flex: 1;
        overflow-y: auto;
        padding: 2.5rem;
        /* Increased from 1.5rem for spacious feel */
        background: var(--background);
    }

    /* Hide all pages by default, show only active */
    .page-content {
        display: none;
    }

    .page-content.active {
        display: block;
    }

    /* =====================================================
     iOS 26 MOTION SYSTEM & ANIMATIONS
     ===================================================== */

    @keyframes slideIn {
        from {
            transform: translateX(100%);
            opacity: 0;
        }

        to {
            transform: translateX(0);
            opacity: 1;
        }
    }

    @keyframes slideOut {
        from {
            transform: translateX(0);
            opacity: 1;
        }

        to {
            transform: translateX(100%);
            opacity: 0;
        }
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
        }

        to {
            opacity: 1;
        }
    }

    @keyframes fadeOut {
        from {
            opacity: 1;
        }

        to {
            opacity: 0;
        }
    }

    @keyframes spin {
        0% {
            transform: rotate(0deg);
        }

        100% {
            transform: rotate(360deg);
        }
    }

    /* Page Transition — iOS 26 cross-dissolve */
    @keyframes pageReveal {
        from {
            opacity: 0;
            transform: translateY(6px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .page-content {
        display: none;
    }

    .page-content.active {
        display: block;
        animation: pageReveal var(--duration-normal) var(--ease-out-expo) both;
    }

    /* Page Exit — iOS 26 cross-dissolve out */
    @keyframes pageExit {
        from {
            opacity: 1;
            transform: translateY(0);
        }

        to {
            opacity: 0;
            transform: translateY(-4px);
        }
    }

    .page-content.exiting {
        display: block;
        animation: pageExit 150ms var(--ease-in-expo) forwards;
    }

    /* Loading overlay fixes */
    .modal-open {
        overflow: hidden;
    }

    /* iOS 26 Press Feedback — Fast in, spring out */
    .btn,
    .btn-primary,
    .btn-secondary,
    .btn-icon,
    .nav-item,
    .guard-chip,
    .card[onclick],
    .contact-card-premium,
    .severity-option,
    .priority-option {
        transition: transform var(--duration-normal) var(--spring-bounce),
            background-color var(--duration-normal) var(--spring-snappy),
            box-shadow var(--duration-normal) var(--spring-snappy),
            opacity var(--duration-normal) var(--spring-snappy);
        -webkit-tap-highlight-color: transparent;
    }

    .btn:active,
    .btn-primary:active,
    .btn-secondary:active,
    .btn-icon:active,
    .nav-item:active,
    .guard-chip:active,
    .card[onclick]:active {
        transform: scale(0.97);
        opacity: 0.85;
        transition-duration: var(--duration-instant);
    }

    /* Toast container positioning fix */
    #toast-container {
        z-index: 9999;
    }

    /* =====================================================
     RESPONSIVE UTILITIES
     ===================================================== */
    .p-6 {
        padding: 1.5rem !important;
    }

    /* Space-Y: Vertical spacing between direct children */
    .space-y-2>*+* {
        margin-top: 0.5rem;
    }

    .space-y-3>*+* {
        margin-top: 0.75rem;
    }

    .space-y-4>*+* {
        margin-top: 1rem;
    }

    .space-y-6>*+* {
        margin-top: 1.5rem;
    }

    /* =====================================================
     GRID UTILITIES
     ===================================================== */
    .grid {
        display: grid;
        gap: 1rem;
    }

    .grid-cols-1 {
        grid-template-columns: repeat(1, 1fr);
    }

    .grid-cols-2 {
        grid-template-columns: repeat(2, 1fr);
    }

    .grid-cols-3 {
        grid-template-columns: repeat(3, 1fr);
    }

    .grid-cols-4 {
        grid-template-columns: repeat(4, 1fr);
    }

    .grid-cols-5 {
        grid-template-columns: repeat(5, 1fr);
    }

    @media (min-width: 640px) {
        .sm\:grid-cols-2 {
            grid-template-columns: repeat(2, 1fr);
        }
    }

    @media (min-width: 1024px) {
        .lg\:grid-cols-3 {
            grid-template-columns: repeat(3, 1fr);
        }

        .lg\:grid-cols-4 {
            grid-template-columns: repeat(4, 1fr);
        }

        .lg\:grid-cols-5 {
            grid-template-columns: repeat(5, 1fr);
        }
    }

    /* =====================================================
     CARD COMPONENT
     ===================================================== */
    .card {
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: var(--radius-xl);
        box-shadow: var(--shadow-sm);
    }

    .card:hover {
        box-shadow: var(--shadow-md);
    }

    .card-header {
        padding: 1rem;
        border-bottom: 1px solid var(--border);
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .card-title {
        font-weight: 700;
        color: var(--text-primary);
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .card-body {
        padding: 1.25rem;
    }

    /* =====================================================
     STAT CARD COMPONENT
     ===================================================== */
    .stat-card {
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: var(--radius-xl);
        padding: 1.25rem;
        box-shadow: var(--shadow-sm);
        position: relative;
        overflow: hidden;
    }

    .stat-card-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 0.75rem;
    }

    .stat-icon {
        padding: 0.5rem;
        border-radius: var(--radius-md);
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .stat-icon.blue {
        background: var(--info-light);
        color: var(--info);
    }

    .stat-icon.green {
        background: var(--success-light);
        color: var(--success);
    }

    .stat-icon.red {
        background: var(--error-light);
        color: var(--error);
    }

    .stat-icon.orange {
        background: var(--warning-light);
        color: var(--warning);
    }

    .stat-icon.yellow {
        background: #fef9c3;
        color: #ca8a04;
    }

    .stat-badge {
        font-size: 0.75rem;
        font-weight: 700;
        padding: 0.25rem 0.5rem;
        border-radius: var(--radius-full);
    }

    .stat-label {
        font-size: 0.875rem;
        font-weight: 500;
        color: var(--text-muted);
    }

    .stat-value {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--text-primary);
        margin-top: 0.25rem;
    }

    /* =====================================================
     TABLE COMPONENT
     ===================================================== */
    .table-container {
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: var(--radius-xl);
        box-shadow: var(--shadow-sm);
        overflow: hidden;
    }

    table {
        width: 100%;
        border-collapse: collapse;
    }

    thead {
        background: var(--hover-bg);
        position: sticky;
        top: 0;
        z-index: 10;
    }

    th {
        padding: 0.75rem 1rem;
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        color: var(--text-muted);
        text-align: left;
    }

    td {
        padding: 0.75rem 1rem;
        font-size: 0.875rem;
        color: var(--text-secondary);
        border-top: 1px solid var(--border);
    }

    tbody tr:hover {
        background: var(--hover-bg);
    }

    /* =====================================================
     BADGE COMPONENT
     ===================================================== */
    .badge {
        display: inline-flex;
        align-items: center;
        padding: 0.25rem 0.625rem;
        font-size: 0.75rem;
        font-weight: 500;
        border-radius: var(--radius-full);
        border: 1px solid transparent;
    }

    .badge-success {
        background: var(--success-light);
        color: var(--success);
        border-color: rgba(16, 185, 129, 0.2);
    }

    .badge-warning {
        background: var(--warning-light);
        color: var(--warning);
        border-color: rgba(245, 158, 11, 0.2);
    }

    .badge-error {
        background: var(--error-light);
        color: var(--error);
        border-color: rgba(239, 68, 68, 0.2);
    }

    .badge-info {
        background: var(--info-light);
        color: var(--info);
        border-color: rgba(59, 130, 246, 0.2);
    }

    .badge-neutral {
        background: var(--hover-bg);
        color: var(--text-secondary);
        border-color: var(--border);
    }

    /* Solid Variations */
    .badge-success-solid {
        background: #059669;
        color: white;
        border: none;
    }

    .badge-danger-solid {
        background: #ef4444;
        color: white;
        border: none;
    }

    .badge-warning-solid {
        background: #f59e0b;
        color: white;
        border: none;
    }

    .badge-xs {
        padding: 0.125rem 0.375rem;
        font-size: 0.625rem;
    }

    /* =====================================================
     FORM ELEMENTS (ShadCN Consolidated)
     ===================================================== */

    /* Base Input - ShadCN Style */
    .form-input {
        height: 2.5rem;
        width: 100%;
        border-radius: var(--radius-md);
        border: 1px solid var(--border);
        background: var(--surface);
        padding: 0 0.75rem;
        font-size: 0.875rem;
        color: var(--text-primary);
        transition: all 0.15s ease;
    }

    .form-input:focus {
        outline: 2px solid var(--primary-light);
        border-color: var(--primary);
    }

    .form-input::placeholder {
        color: var(--text-muted);
    }

    .form-input.with-icon {
        padding-left: 2.5rem;
    }

    /* Select - ShadCN Style (Chevron included) */
    .form-select {
        display: flex;
        height: 2.5rem;
        width: 100%;
        align-items: center;
        justify-content: space-between;
        border-radius: var(--radius-md);
        border: 1px solid var(--border);
        background-color: var(--surface);
        padding: 0 0.75rem;
        font-size: 0.875rem;
        line-height: 1.25rem;
        color: var(--text-primary);
        transition: all 0.15s ease;
        appearance: none;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%2364748b' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 0.5rem center;
        background-size: 1rem;
        padding-right: 2rem;
        cursor: pointer;
        box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    }

    .form-select:hover {
        border-color: var(--text-muted);
        box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
    }

    .form-select:focus {
        outline: 2px solid var(--primary-light);
        border-color: var(--primary);
        box-shadow: 0 0 0 2px rgba(19, 236, 128, 0.15);
    }

    /* Native dropdown option styling */
    .form-select option {
        padding: 0.5rem 0.75rem;
        background: var(--surface);
        color: var(--text-primary);
    }

    .form-select option:hover,
    .form-select option:checked {
        background: var(--hover-bg);
    }

    /* =====================================================
     CUSTOM SELECT COMPONENT (ShadCN Style)
     ===================================================== */

    /* Container */
    .custom-select {
        position: relative;
        display: block;
    }

    /* Trigger Button */
    .custom-select-trigger {
        display: flex;
        height: 2.5rem;
        width: 100%;
        align-items: center;
        justify-content: space-between;
        gap: 0.5rem;
        border-radius: var(--radius-md);
        border: 1px solid var(--border);
        background-color: var(--surface);
        padding: 0 0.75rem;
        font-family: inherit;
        font-size: 0.875rem;
        color: var(--text-primary);
        cursor: pointer;
        transition: all 0.15s ease;
        box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    }

    .custom-select-trigger:hover {
        border-color: var(--text-muted);
        box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
    }

    .custom-select-trigger:focus {
        outline: 2px solid var(--primary-light);
        border-color: var(--primary);
    }

    .custom-select-trigger .material-symbols-outlined {
        font-size: 1.125rem;
        color: var(--text-muted);
        transition: transform 0.2s ease;
    }

    .custom-select.open .custom-select-trigger .material-symbols-outlined {
        transform: rotate(180deg);
    }

    .custom-select-value {
        flex: 1;
        text-align: left;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .custom-select-placeholder {
        color: var(--text-muted);
    }

    /* Dropdown Menu */
    .custom-select-menu {
        position: absolute;
        top: calc(100% + 4px);
        left: 0;
        z-index: 9999;
        min-width: 100%;
        max-height: 280px;
        overflow-y: auto;
        background: var(--surface, #ffffff);
        border: 1px solid var(--border);
        border-radius: var(--radius-lg);
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
        padding: 0.25rem;
        display: none;
        animation: selectFadeIn 0.15s ease-out;
    }

    .custom-select.open .custom-select-menu {
        display: block;
    }

    @keyframes selectFadeIn {
        from {
            opacity: 0;
            transform: translateY(-4px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* Dropdown Items */
    .custom-select-item {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.5rem 0.75rem 0.5rem 1.75rem;
        /* Left padding for checkmark */
        font-size: 0.875rem;
        color: var(--text-primary);
        border-radius: var(--radius-sm);
        cursor: pointer;
        transition: background-color 0.1s ease;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        position: relative;
    }

    .custom-select-item:hover {
        background: var(--hover-bg);
    }

    .custom-select-item.selected {
        background: var(--primary-light);
        color: var(--primary);
        font-weight: 500;
    }

    .custom-select-item.selected::before {
        content: "check";
        font-family: "Material Symbols Outlined";
        font-size: 1rem;
        position: absolute;
        left: 0.5rem;
        top: 50%;
        transform: translateY(-50%);
    }

    /* Separator */
    .custom-select-separator {
        height: 1px;
        background: var(--border);
        margin: 0.25rem 0;
    }

    /* Label/Group Header */
    .custom-select-label {
        padding: 0.5rem 0.75rem 0.25rem;
        font-size: 0.75rem;
        font-weight: 600;
        color: var(--text-muted);
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }

    /* Mobile Responsive */
    @media (max-width: 768px) {
        .custom-select-menu {
            max-height: 240px;
        }

        .custom-select-item {
            padding: 0.75rem;
            min-height: 44px;
        }
    }

    /* =====================================================
       NATIVE SELECT STYLING (form-select)
       ===================================================== */
    .form-select,
    select.form-input {
        appearance: none;
        -webkit-appearance: none;
        -moz-appearance: none;
        display: block;
        width: 100%;
        height: 2.75rem;
        padding: 0.625rem 2.5rem 0.625rem 0.75rem;
        font-size: 0.875rem;
        font-family: inherit;
        color: var(--text-primary);
        background-color: var(--surface);
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%2364748b' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 0.75rem center;
        background-size: 1rem;
        border: 1px solid var(--border);
        border-radius: var(--radius-md);
        cursor: pointer;
        transition: border-color var(--duration-normal) var(--spring-snappy), box-shadow var(--duration-normal) var(--spring-snappy);
    }

    .form-select:hover,
    select.form-input:hover {
        border-color: var(--text-muted);
    }

    .form-select:focus,
    select.form-input:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.10),
            0 0 0 1px rgba(16, 185, 129, 0.3);
    }

    .form-select:disabled,
    select.form-input:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        background-color: var(--muted);
    }

    /* Dark mode support for select arrow */
    body.dark .form-select,
    body.dark select.form-input {
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%2394a3b8' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
    }

    /* Native date/time input improvements */
    input[type="date"].form-input,
    input[type="time"].form-input,
    input[type="date"].form-select,
    input[type="time"].form-select {
        appearance: none;
        -webkit-appearance: none;
    }

    input[type="date"]::-webkit-calendar-picker-indicator,
    input[type="time"]::-webkit-calendar-picker-indicator {
        background-color: transparent;
        cursor: pointer;
        opacity: 0.6;
        padding: 0;
    }

    input[type="date"]::-webkit-calendar-picker-indicator:hover,
    input[type="time"]::-webkit-calendar-picker-indicator:hover {
        opacity: 1;
    }

    /* Textarea - ShadCN Style */
    .form-textarea {
        width: 100%;
        min-height: 5rem;
        border-radius: var(--radius-md);
        border: 1px solid var(--border);
        background: var(--surface);
        padding: 0.75rem;
        font-size: 0.875rem;
        line-height: 1.5;
        color: var(--text-primary);
        resize: vertical;
        transition: all 0.15s ease;
        font-family: inherit;
    }

    .form-textarea:focus {
        outline: 2px solid var(--primary-light);
        border-color: var(--primary);
    }

    .form-textarea::placeholder {
        color: var(--text-muted);
    }

    /* Search Input - ShadCN Style */
    .search-input {
        position: relative;
        display: flex;
        align-items: center;
        width: 100%;
        max-width: 320px;
    }

    .search-input .material-symbols-outlined {
        position: absolute;
        left: 0.75rem;
        color: var(--text-muted);
        font-size: 1.125rem;
        pointer-events: none;
    }

    .search-input input {
        height: 2.5rem;
        width: 100%;
        border-radius: var(--radius-md);
        border: 1px solid var(--border);
        background: var(--surface);
        padding: 0 0.75rem 0 2.5rem;
        font-size: 0.875rem;
        color: var(--text-primary);
        transition: all 0.15s ease;
    }

    .search-input input:focus {
        outline: 2px solid var(--primary-light);
        border-color: var(--primary);
    }

    .search-input input::placeholder {
        color: var(--text-muted);
    }

    /* Form Label */
    .form-label {
        display: block;
        font-size: 0.875rem;
        font-weight: 500;
        color: var(--text-primary);
        margin-bottom: 0.5rem;
    }

    .form-label.required::after {
        content: " *";
        color: var(--error);
    }

    /* Form Group */
    .form-group {
        margin-bottom: 1rem;
    }

    /* Input with Button - For Extract/Copy buttons inline */
    .input-with-button {
        display: flex;
        gap: 0.5rem;
        align-items: stretch;
    }

    .input-with-button .form-input {
        flex: 1;
        border-radius: var(--radius-md) 0 0 var(--radius-md);
    }

    .input-with-button .btn {
        border-radius: 0 var(--radius-md) var(--radius-md) 0;
        white-space: nowrap;
        flex-shrink: 0;
    }

    /* Form Hint - Helper text below inputs */
    .form-hint {
        font-size: 0.75rem;
        color: var(--text-muted);
        margin-top: 0.25rem;
    }

    .form-hint .text-success {
        color: var(--success);
    }

    .form-hint .text-warning {
        color: var(--warning);
    }

    .form-hint .text-danger {
        color: var(--error);
    }

    /* =====================================================
     ICON BUTTONS (ShadCN Style)
     ===================================================== */
    .btn-icon {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 2.25rem;
        height: 2.25rem;
        border-radius: var(--radius-md);
        border: 1px solid var(--border);
        background: var(--surface);
        color: var(--text-muted);
        cursor: pointer;
        transition: all 0.15s ease;
        flex-shrink: 0;
    }

    .btn-icon:hover {
        background: var(--hover-bg);
        color: var(--text-primary);
        border-color: var(--text-muted);
    }

    .btn-icon:active {
        transform: scale(0.95);
    }

    .btn-icon .material-symbols-outlined {
        font-size: 1.125rem;
    }

    /* Ghost variant - no border */
    .btn-icon-ghost {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 2.25rem;
        height: 2.25rem;
        border-radius: var(--radius-md);
        border: none;
        background: transparent;
        color: var(--text-muted);
        cursor: pointer;
        transition: all 0.15s ease;
        flex-shrink: 0;
    }

    .btn-icon-ghost:hover {
        background: var(--hover-bg);
        color: var(--text-primary);
    }

    .btn-icon-ghost:active {
        transform: scale(0.95);
    }

    .btn-icon-ghost .material-symbols-outlined {
        font-size: 1.125rem;
    }

    /* Small variant */
    .btn-icon-sm {
        width: 1.75rem;
        height: 1.75rem;
    }

    .btn-icon-sm .material-symbols-outlined {
        font-size: 1rem;
    }


    /* =====================================================
     MODAL COMPONENT
     ===================================================== */

    /* Modal templates are native <template> tags, which are hidden by default. 
       We only need to hide specifically designated template divs if any remain. */
    .modal-template {
        display: none !important;
    }

    .modal-backdrop {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        z-index: 9999;
        display: none;
        align-items: center;
        justify-content: center;
        padding: 1.5rem;
        background: rgba(15, 23, 42, 0.65);
        backdrop-filter: blur(4px);
    }

    .modal-backdrop.active {
        animation: fadeIn 0.15s ease-out forwards;
        display: flex !important;
    }

    body.modal-open {
        overflow: hidden !important;
    }

    /* VKS UI Skill: Modal Architecture
       #modal-container must be transparent. The internal card provides the box. */
    #modal-container {
        background: transparent !important;
        border: none !important;
        box-shadow: none !important;
        padding: 0 !important;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        height: 100%;
    }

    .modal-card-solid {
        transition: transform 0.3s ease;
        background: #ffffff !important;
        border: 1px solid var(--border) !important;
        border-radius: var(--radius-2xl) !important;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
        width: 100%;
        max-width: 40rem;
        max-height: 90vh;
        display: flex;
        flex-direction: column;
        overflow: hidden;
        animation: modalEntrance 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    /* Standard modal container card (checkpoint form, etc.) */
    .modal-container {
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: var(--radius-2xl);
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        width: 100%;
        max-height: 90vh;
        display: flex;
        flex-direction: column;
        overflow: hidden;
        animation: modalEntrance 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    .modal-container.modal-md {
        max-width: 32rem;
    }

    .modal-container.modal-lg {
        max-width: 48rem;
    }

    .modal-header-solid {
        padding: 2rem 1.5rem 1.5rem;
        border-bottom: 1px solid var(--border);
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        background: #ffffff;
    }

    .modal-section-white {
        background: #ffffff;
        padding: 1.25rem 1.5rem;
        border-bottom: 1px solid var(--border);
    }

    .modal-footer-solid {
        padding: 1.5rem;
        background: #ffffff;
        border-top: 1px solid var(--border);
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .modal-header {
        padding: 1.5rem;
        border-bottom: 1px solid var(--border);
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .modal-title {
        font-size: 1.125rem;
        font-weight: 700;
        color: var(--text-primary);
    }

    .modal-close {
        padding: 0.5rem;
        color: var(--text-muted);
        background: none;
        border: none;
        cursor: pointer;
        border-radius: var(--radius-md);
    }

    .modal-close:hover {
        background: var(--hover-bg);
        color: var(--text-primary);
    }

    .modal-body {
        flex: 1;
        padding: 1.5rem;
        overflow-y: auto;
    }

    .modal-footer {
        padding: 1rem 1.5rem;
        border-top: 1px solid var(--border);
        display: flex;
        justify-content: flex-end;
        gap: 0.75rem;
    }

    /* Refined Modal Components - LATE PATROL Standard */
    .modal-header-refined {
        padding: 1.5rem;
        border-bottom: 1px solid var(--border);
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
    }

    .modal-title-group {
        display: flex;
        gap: 1rem;
        align-items: center;
    }

    .modal-icon-box {
        width: 3rem;
        height: 3rem;
        border-radius: var(--radius-lg);
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
    }

    .modal-icon-box.success {
        background: #dcfce7;
        color: #059669;
    }

    .modal-icon-box.warning {
        background: #fef3c7;
        color: #d97706;
    }

    .modal-icon-box.critical {
        background: #fee2e2;
        color: #ef4444;
    }

    .modal-header-refined .modal-title {
        font-size: 1.25rem;
        font-weight: 800;
        letter-spacing: -0.025em;
        line-height: 1;
        margin-bottom: 0.375rem;
        text-transform: uppercase;
    }

    .modal-subtitle-flex {
        display: flex;
        align-items: center;
        gap: 0.75rem;
    }

    /* =====================================================
       VKS PREMIUM SOLID MODAL PATTERN
       Following VKS UI Design Skill & Modal Patterns
       ===================================================== */

    #modal-container {
        background: transparent !important;
        border: none !important;
        box-shadow: none !important;
        padding: 0 !important;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        height: 100%;
    }

    .modal-card-solid {
        transition: transform var(--duration-slow) var(--spring-bounce);
        background: #ffffff !important;
        border: 1px solid var(--border) !important;
        border-radius: var(--radius-2xl) !important;
        box-shadow: var(--shadow-modal) !important;
        width: 100%;
        max-width: 40rem;
        max-height: 90vh;
        display: flex;
        flex-direction: column;
        overflow: hidden;
        animation: modalEntrance var(--duration-slow) var(--spring-bounce);
    }

    @keyframes modalEntrance {
        from {
            opacity: 0;
            transform: scale(0.97);
        }

        to {
            opacity: 1;
            transform: scale(1);
        }
    }

    /* Modal EXIT animation — iOS 26 scale-down dismiss */
    @keyframes modalExit {
        to {
            opacity: 0;
            transform: scale(0.97) translateY(8px);
        }
    }

    .modal-backdrop.closing .modal-card-solid {
        animation: modalExit 200ms var(--ease-in-expo) forwards;
    }

    .modal-backdrop.closing {
        animation: fadeOut 200ms var(--ease-in-expo) forwards;
    }

    .modal-header-solid {
        padding: 2rem 1.5rem 1.5rem;
        border-bottom: 1px solid var(--border);
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        background: #ffffff;
    }

    .modal-title-group {
        display: flex;
        gap: 1rem;
        align-items: center;
    }

    .modal-icon-box {
        width: 3.5rem;
        height: 3.5rem;
        border-radius: var(--radius-xl);
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);
        color: #10b981;
        border: 1px solid rgba(16, 185, 129, 0.1);
        box-shadow: var(--shadow-sm);
    }

    .modal-header-solid .modal-title {
        font-size: 1.5rem;
        font-weight: 800;
        letter-spacing: -0.03em;
        line-height: 1.1;
        margin-bottom: 0.5rem;
        color: var(--text-primary);
    }

    .modal-meta-bar-solid {
        background: #ffffff;
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        padding: 1.25rem 1.5rem;
        border-bottom: 1px solid var(--border);
        gap: 1rem;
    }

    .modal-footer-solid {
        padding: 1.5rem;
        background: #ffffff;
        border-top: 1px solid var(--border);
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .btn-close {
        width: 2rem;
        height: 2rem;
        border-radius: var(--radius-md);
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--text-muted);
        background: transparent;
        border: none;
        cursor: pointer;
        transition: all 0.2s;
    }

    .btn-close:hover {
        background: #f1f5f9;
        color: var(--text-primary);
    }

    .badge-success-solid {
        background: #10b981;
        color: #ffffff;
        border: none;
        font-weight: 700;
        padding: 0.25rem 0.5rem;
        border-radius: var(--radius-sm);
        font-size: 0.625rem;
        letter-spacing: 0.025em;
    }

    .badge-xs {
        padding: 0.125rem 0.375rem;
        font-size: 0.5625rem;
    }

    .section-title {
        font-size: 0.625rem;
        font-weight: 800;
        color: #94a3b8;
        letter-spacing: 0.05em;
        margin-bottom: 0.75rem;
        text-transform: uppercase;
    }

    .meta-item {
        display: flex;
        flex-direction: column;
        gap: 0.25rem;
    }

    .meta-label {
        font-size: 0.625rem;
        font-weight: 700;
        color: #94a3b8;
        text-transform: uppercase;
    }

    .meta-value {
        font-size: 0.8125rem;
        font-weight: 700;
        color: var(--text-primary);
    }

    /* End of VKS Premium Solid Pattern */


    /* Premium Contact Card */
    .contact-card-premium {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 1rem;
        background: white;
        border-radius: var(--radius-xl);
        border: 1px solid var(--border);
        box-shadow: var(--shadow-sm);
        transition: all 0.2s ease;
    }

    .contact-card-premium:hover {
        border-color: var(--primary);
        box-shadow: var(--shadow-md);
    }

    /* Guard Chips - Clickable guard buttons in site detail */
    .guard-chip {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.5rem 0.75rem 0.5rem 0.5rem;
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: var(--radius-lg);
        font-size: 0.8125rem;
        cursor: pointer;
        transition: all 0.2s ease;
        box-shadow: var(--shadow-sm);
    }

    .guard-chip:hover {
        background: var(--hover-bg);
        border-color: var(--primary);
        transform: translateY(-2px);
        box-shadow: var(--shadow-md);
    }

    .guard-chip.inspector {
        border-color: rgba(245, 158, 11, 0.3);
        background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
    }

    .guard-chip.inspector:hover {
        border-color: #f59e0b;
        background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
    }

    .guard-avatar {
        width: 1.75rem;
        height: 1.75rem;
        border-radius: 50%;
        background: linear-gradient(135deg, var(--primary) 0%, #059669 100%);
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.6875rem;
        font-weight: 700;
        flex-shrink: 0;
        box-shadow: 0 2px 4px rgba(16, 185, 129, 0.3);
    }

    .guard-avatar.inspector {
        background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        box-shadow: 0 2px 4px rgba(245, 158, 11, 0.3);
    }

    .guard-name {
        font-weight: 600;
        color: var(--text-primary);
        max-width: 100px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    .guard-count {
        background: var(--primary-light);
        color: var(--primary);
        padding: 0.125rem 0.5rem;
        border-radius: var(--radius-full);
        font-size: 0.6875rem;
        font-weight: 700;
        min-width: 1.25rem;
        text-align: center;
    }

    .guard-chip.inspector .guard-count {
        background: rgba(245, 158, 11, 0.2);
        color: #b45309;
    }

    /* Extra Components used in Modals */
    .checkbox-card {
        cursor: pointer;
        display: block;
    }

    .checkbox-card input {
        display: none;
    }

    .checkbox-content {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        padding: 0.75rem 1rem;
        border: 2px solid var(--border);
        border-radius: var(--radius-md);
        font-size: 0.75rem;
        font-weight: 600;
        transition: all 0.2s;
    }

    .checkbox-card input:checked+.checkbox-content {
        border-color: var(--primary);
        background: var(--primary-light);
        color: var(--primary);
    }

    .toggle-switch {
        display: flex;
        align-items: center;
        gap: 12px;
        cursor: pointer;
    }

    .toggle-switch input {
        display: none;
    }

    .toggle-slider {
        width: 51px;
        height: 31px;
        background-color: rgba(120, 120, 128, 0.16);
        border-radius: 16px;
        position: relative;
        transition: background-color var(--duration-normal) var(--spring-bounce);
    }

    .toggle-slider::after {
        content: '';
        position: absolute;
        width: 27px;
        height: 27px;
        background-color: white;
        border-radius: 50%;
        top: 2px;
        left: 2px;
        transition: transform var(--duration-normal) var(--spring-bounce);
        box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15),
            0 1px 1px rgba(0, 0, 0, 0.06),
            0 3px 1px rgba(0, 0, 0, 0.04);
    }

    .toggle-switch input:checked+.toggle-slider {
        background-color: var(--primary);
    }

    .toggle-switch input:checked+.toggle-slider::after {
        transform: translateX(20px);
    }

    /* Selection Grids (Severity/Priority) */
    .severity-select,
    .priority-select {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 8px;
    }

    .severity-option,
    .priority-option {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 12px 8px;
        border: 2px solid var(--border);
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.2s;
        text-align: center;
    }

    .severity-option:hover,
    .priority-option:hover {
        border-color: var(--primary);
        background: rgba(19, 236, 128, 0.05);
    }

    .severity-option input,
    .priority-option input {
        display: none;
    }

    .severity-option:has(input:checked),
    .priority-option:has(input:checked) {
        border-color: var(--primary);
        background: rgba(19, 236, 128, 0.1);
    }

    .severity-label,
    .priority-label {
        font-weight: 600;
        font-size: 14px;
    }

    .severity-sla {
        font-size: 11px;
        color: var(--text-muted);
        margin-top: 4px;
    }

    @media (max-width: 640px) {

        .severity-select,
        .priority-select {
            grid-template-columns: repeat(2, 1fr);
        }
    }

    /* Form Sections & Radio Cards */
    .form-section {
        margin-bottom: 24px;
        padding-bottom: 24px;
        border-bottom: 1px solid var(--border);
    }

    .form-section:last-child {
        border-bottom: none;
        margin-bottom: 0;
        padding-bottom: 0;
    }

    .form-section-title {
        font-size: 0.625rem;
        font-weight: 800;
        color: #94a3b8;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        margin-bottom: 1rem;
    }

    .radio-group {
        display: flex;
        gap: 12px;
    }

    .radio-card {
        flex: 1;
        cursor: pointer;
    }

    .radio-card input {
        display: none;
    }

    .radio-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 1rem;
        border: 2px solid var(--border);
        border-radius: var(--radius-lg);
        transition: all 0.2s;
    }

    .radio-card input:checked+.radio-content {
        border-color: var(--primary);
        background-color: var(--primary-light);
    }

    @media (max-width: 640px) {
        .radio-group {
            flex-direction: column;
        }
    }

    /* Contextual Utilities */
    .bg-slate-50 {
        background-color: #f8fafc;
    }

    .bg-red-50 {
        background-color: #fef2f2;
    }

    .text-red-700 {
        color: #b91c1c;
    }

    .border-slate-100 {
        border-color: #f1f5f9;
    }

    .border-red-100 {
        border-color: #fee2e2;
    }

    .border-red-200 {
        border-color: #fecaca;
    }

    .focus\:border-red-500:focus {
        border-color: #ef4444;
        outline: none;
        box-shadow: 0 0 0 1px #ef4444;
    }

    .responder-pill {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        background: #f1f5f9;
        padding: 0.375rem 0.75rem;
        border-radius: var(--radius-full);
        font-size: 0.75rem;
        font-weight: 600;
    }

    .avatar-xs {
        width: 1.25rem;
        height: 1.25rem;
        background: #10b981;
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.5rem;
        font-weight: 700;
    }

    /* =====================================================
     UTILITY CLASSES
     ===================================================== */
    .hidden {
        display: none !important;
    }

    .flex {
        display: flex;
    }

    .flex-col {
        flex-direction: column;
    }

    .flex-wrap {
        flex-wrap: wrap;
    }

    .flex-1 {
        flex: 1;
    }

    .items-center {
        align-items: center;
    }

    .items-start {
        align-items: flex-start;
    }

    .justify-between {
        justify-content: space-between;
    }

    .justify-center {
        justify-content: center;
    }

    .justify-end {
        justify-content: flex-end;
    }

    .gap-1 {
        gap: 0.25rem;
    }

    .gap-2 {
        gap: 0.5rem;
    }

    .gap-3 {
        gap: 0.75rem;
    }

    .gap-4 {
        gap: 1rem;
    }

    .gap-6 {
        gap: 1.5rem;
    }

    .p-0 {
        padding: 0;
    }

    .p-4 {
        padding: 1rem;
    }

    .p-5 {
        padding: 1.25rem;
    }

    .p-6 {
        padding: 1.5rem;
    }

    .px-4 {
        padding-left: 1rem;
        padding-right: 1rem;
    }

    .py-4 {
        padding-top: 1rem;
        padding-bottom: 1rem;
    }

    .py-8 {
        padding-top: 2rem;
        padding-bottom: 2rem;
    }

    .mb-2 {
        margin-bottom: 0.5rem;
    }

    .mb-4 {
        margin-bottom: 1rem;
    }

    .mb-6 {
        margin-bottom: 1.5rem;
    }

    .mt-2 {
        margin-top: 0.5rem;
    }

    .mt-4 {
        margin-top: 1rem;
    }

    .mt-auto {
        margin-top: auto;
    }

    .ml-2 {
        margin-left: 0.5rem;
    }

    .ml-auto {
        margin-left: auto;
    }

    .w-full {
        width: 100%;
    }

    .h-full {
        height: 100%;
    }

    .min-h-screen {
        min-height: 100vh;
    }

    .text-xs {
        font-size: 0.75rem;
    }

    .text-sm {
        font-size: 0.875rem;
    }

    .text-base {
        font-size: 1rem;
    }

    .text-lg {
        font-size: 1.125rem;
    }

    .text-xl {
        font-size: 1.25rem;
    }

    .text-2xl {
        font-size: 1.5rem;
    }

    .text-3xl {
        font-size: 1.875rem;
    }

    .font-medium {
        font-weight: 500;
    }

    .font-semibold {
        font-weight: 600;
    }

    .font-bold {
        font-weight: 700;
    }

    .text-muted {
        color: var(--text-muted);
    }

    .text-secondary {
        color: var(--text-secondary);
    }

    .text-primary {
        color: var(--primary);
    }

    .text-success {
        color: var(--success);
    }

    .text-warning {
        color: var(--warning);
    }

    .text-error {
        color: var(--error);
    }

    .text-center {
        text-align: center;
    }

    .text-right {
        text-align: right;
    }

    .rounded {
        border-radius: var(--radius-sm);
    }

    .rounded-md {
        border-radius: var(--radius-md);
    }

    .rounded-lg {
        border-radius: var(--radius-lg);
    }

    .rounded-xl {
        border-radius: var(--radius-xl);
    }

    .rounded-full {
        border-radius: var(--radius-full);
    }

    .truncate {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    .overflow-hidden {
        overflow: hidden;
    }

    .overflow-y-auto {
        overflow-y: auto;
    }

    .relative {
        position: relative;
    }

    .absolute {
        position: absolute;
    }

    .inset-0 {
        inset: 0;
    }

    .col-span-full {
        grid-column: 1 / -1;
    }

    /* =====================================================
     BUTTON COMPONENT - Shadcn Style
     ===================================================== */
    .btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        height: 36px;
        padding: 0 1rem;
        font-family: inherit;
        font-size: 0.875rem;
        font-weight: 500;
        border-radius: var(--radius-md);
        border: 1px solid transparent;
        cursor: pointer;
        transition: all 0.15s ease;
        white-space: nowrap;
        text-decoration: none;
    }

    .btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }

    .btn-primary {
        background: var(--primary);
        color: var(--primary-content);
        border-color: var(--primary);
    }

    .btn-primary:hover:not(:disabled) {
        opacity: 0.9;
        box-shadow: 0 4px 12px rgba(19, 236, 128, 0.3);
    }

    .btn-secondary {
        background: var(--surface);
        color: var(--text-secondary);
        border-color: var(--border);
    }

    .btn-secondary:hover:not(:disabled) {
        background: var(--hover-bg);
        color: var(--text-primary);
    }

    .btn-outline {
        background: transparent;
        color: var(--text-secondary);
        border-color: var(--border);
    }

    .btn-outline:hover:not(:disabled) {
        background: var(--hover-bg);
        color: var(--text-primary);
    }

    .btn-ghost {
        background: transparent;
        color: var(--text-secondary);
        border: none;
    }

    .btn-ghost:hover:not(:disabled) {
        background: var(--hover-bg);
        color: var(--text-primary);
    }

    .btn-danger {
        background: var(--error);
        color: white;
        border-color: var(--error);
    }

    .btn-danger:hover:not(:disabled) {
        opacity: 0.9;
    }

    .btn-danger-solid {
        background: #ef4444 !important;
        color: white !important;
        border-color: #ef4444 !important;
    }

    .btn-danger-solid:hover:not(:disabled) {
        background: #dc2626 !important;
    }

    .btn-success {
        background: var(--success);
        color: white;
        border-color: var(--success);
    }

    .btn-link {
        background: transparent;
        color: var(--primary);
        border: none;
        padding: 0;
        height: auto;
        text-decoration: underline;
    }

    .btn-xs {
        height: 28px;
        padding: 0 0.5rem;
        font-size: 0.75rem;
    }

    .btn-sm {
        height: 32px;
        padding: 0 0.75rem;
        font-size: 0.8125rem;
    }

    .btn-lg {
        height: 44px;
        padding: 0 1.5rem;
        font-size: 1rem;
    }

    .btn-icon {
        width: 36px;
        padding: 0;
    }

    .btn-icon.btn-sm {
        width: 32px;
    }

    .btn-icon.btn-xs {
        width: 28px;
    }

    /* =====================================================
     FILTER BAR COMPONENT
     ===================================================== */
    .filter-bar {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        gap: 0.75rem;
        padding: 1rem;
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: var(--radius-xl);
        margin-bottom: 1rem;
    }

    .filter-search {
        position: relative;
        flex: 1;
        min-width: 200px;
    }

    .filter-search .material-symbols-outlined {
        position: absolute;
        left: 0.75rem;
        top: 50%;
        transform: translateY(-50%);
        color: var(--text-muted);
        font-size: 1.25rem;
    }

    .filter-search .form-input {
        padding-left: 2.5rem;
    }

    .filter-group {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        flex-wrap: wrap;
    }

    .filter-divider {
        width: 1px;
        height: 24px;
        background: var(--border);
        margin: 0 0.5rem;
    }

    /* =====================================================
     EMPTY STATE COMPONENT
     ===================================================== */
    .empty-state {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 3rem 1.5rem;
        text-align: center;
        color: var(--text-muted);
    }

    .empty-state .material-symbols-outlined {
        font-size: 4rem;
        margin-bottom: 1rem;
        opacity: 0.5;
    }

    .empty-state h3 {
        font-size: 1.125rem;
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: 0.5rem;
    }

    .empty-state p {
        font-size: 0.875rem;
        color: var(--text-muted);
        margin-bottom: 1.5rem;
        max-width: 300px;
    }

    /* =====================================================
     KPI GRID COMPONENT
     ===================================================== */
    .kpi-grid {
        display: grid;
        gap: 1rem;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    }

    .kpi-grid-5 {
        grid-template-columns: repeat(5, 1fr);
    }

    .kpi-grid-6 {
        grid-template-columns: repeat(6, 1fr);
    }

    .kpi-grid-2 {
        grid-template-columns: repeat(2, 1fr);
        max-width: 600px;
    }

    .kpi-grid-4 {
        grid-template-columns: repeat(4, 1fr);
    }

    .kpi-grid-3 {
        grid-template-columns: repeat(3, 1fr);
    }

    @media (max-width: 1200px) {

        .kpi-grid-5,
        .kpi-grid-6 {
            grid-template-columns: repeat(3, 1fr);
        }
    }

    @media (max-width: 768px) {

        .kpi-grid-5,
        .kpi-grid-6,
        .kpi-grid-4,
        .kpi-grid-3 {
            grid-template-columns: repeat(2, 1fr);
        }
    }

    @media (max-width: 480px) {

        .kpi-grid-5,
        .kpi-grid-6,
        .kpi-grid-4,
        .kpi-grid-3 {
            grid-template-columns: 1fr;
        }
    }

    /* Badge purple for night shift */
    .badge-purple {
        background: rgba(147, 51, 234, 0.12);
        color: #9333ea;
    }

    .bg-purple {
        background: linear-gradient(135deg, #9333ea 0%, #7c3aed 100%);
    }

    .kpi-card {
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: var(--radius-xl);
        padding: 1.25rem;
        position: relative;
        overflow: hidden;
        transition: all 0.2s ease;
    }

    .kpi-card:hover {
        box-shadow: var(--shadow-md);
        transform: translateY(-2px);
    }

    .kpi-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 0.75rem;
    }

    .kpi-label {
        font-size: 0.8125rem;
        font-weight: 500;
        color: var(--text-muted);
    }

    /* Inactive Row Styling */
    .row-inactive {
        opacity: 0.6;
        background-color: #f8fafc;
        color: #64748b;
    }

    .row-inactive:hover {
        opacity: 0.8;
        background-color: #f1f5f9;
    }

    .kpi-icon {
        width: 36px;
        height: 36px;
        border-radius: var(--radius-md);
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .kpi-icon .material-symbols-outlined {
        font-size: 1.25rem;
    }

    .kpi-icon.bg-blue {
        background: var(--info-light);
        color: var(--info);
    }

    .kpi-icon.bg-green {
        background: var(--success-light);
        color: var(--success);
    }

    .kpi-icon.bg-red {
        background: var(--error-light);
        color: var(--error);
    }

    .kpi-icon.bg-orange {
        background: var(--warning-light);
        color: var(--warning);
    }

    .kpi-icon.bg-yellow {
        background: #fef9c3;
        color: #ca8a04;
    }

    .kpi-icon.bg-purple {
        background: rgba(139, 92, 246, 0.1);
        color: #8b5cf6;
    }

    .kpi-value {
        font-size: 1.75rem;
        font-weight: 700;
        color: var(--text-primary);
        line-height: 1.2;
    }

    .kpi-badge {
        display: inline-flex;
        align-items: center;
        gap: 0.25rem;
        font-size: 0.75rem;
        font-weight: 500;
        padding: 0.25rem 0.5rem;
        border-radius: var(--radius-full);
        margin-top: 0.5rem;
    }

    /* =====================================================
     AVATAR COMPONENT
     ===================================================== */
    .avatar {
        width: 40px;
        height: 40px;
        border-radius: var(--radius-full);
        overflow: hidden;
        background: var(--hover-bg);
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
    }

    .avatar img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .avatar-initials {
        font-size: 0.875rem;
        font-weight: 600;
        color: var(--text-secondary);
    }

    .avatar-sm {
        width: 32px;
        height: 32px;
        font-size: 0.75rem;
    }

    .avatar-lg {
        width: 48px;
        height: 48px;
        font-size: 1rem;
    }

    .avatar-xl {
        width: 64px;
        height: 64px;
        font-size: 1.5rem;
    }

    /* =====================================================
     SPINNER / LOADING
     ===================================================== */
    .spinner {
        width: 20px;
        height: 20px;
        border: 2px solid var(--border);
        border-top-color: var(--primary);
        border-radius: 50%;
        animation: spin 0.8s linear infinite;
    }

    .spin {
        animation: spin 1s linear infinite;
    }

    @keyframes spin {
        to {
            transform: rotate(360deg);
        }
    }

    /* =====================================================
     SKELETON LOADING
     ===================================================== */
    .skeleton {
        background: linear-gradient(90deg, var(--hover-bg) 25%, var(--border) 50%, var(--hover-bg) 75%);
        background-size: 200% 100%;
        animation: skeleton-pulse 1.5s ease-in-out infinite;
        border-radius: var(--radius-md);
    }

    @keyframes skeleton-pulse {
        0% {
            background-position: 200% 0;
        }

        100% {
            background-position: -200% 0;
        }
    }

    /* =====================================================
     ALERT COMPONENT
     ===================================================== */
    .alert {
        display: flex;
        align-items: flex-start;
        gap: 0.75rem;
        padding: 1rem;
        border-radius: var(--radius-lg);
        border: 1px solid;
    }

    .alert-info {
        background: var(--info-light);
        border-color: rgba(59, 130, 246, 0.2);
        color: var(--info);
    }

    .alert-success {
        background: var(--success-light);
        border-color: rgba(16, 185, 129, 0.2);
        color: var(--success);
    }

    .alert-warning {
        background: var(--warning-light);
        border-color: rgba(245, 158, 11, 0.2);
        color: var(--warning);
    }

    .alert-error {
        background: var(--error-light);
        border-color: rgba(239, 68, 68, 0.2);
        color: var(--error);
    }

    .alert-icon {
        flex-shrink: 0;
    }

    .alert-content {
        flex: 1;
    }

    .alert-title {
        font-weight: 600;
        margin-bottom: 0.25rem;
    }

    .alert-desc {
        font-size: 0.875rem;
        opacity: 0.9;
    }

    /* =====================================================
     TABS COMPONENT
     ===================================================== */
    .tabs {
        display: flex;
        border-bottom: 1px solid var(--border);
        gap: 0;
    }

    .tab {
        padding: 0.75rem 1rem;
        font-size: 0.875rem;
        font-weight: 500;
        color: var(--text-muted);
        border: none;
        background: transparent;
        cursor: pointer;
        border-bottom: 2px solid transparent;
        margin-bottom: -1px;
        transition: all 0.15s ease;
    }

    .tab:hover {
        color: var(--text-primary);
    }

    .tab.active {
        color: var(--primary);
        border-bottom-color: var(--primary);
    }

    .tab-content {
        display: none;
        padding: 1rem 0;
    }

    .tab-content.active {
        display: block;
    }

    /* =====================================================
     TOOLTIP
     ===================================================== */
    [data-tooltip] {
        position: relative;
    }

    [data-tooltip]::before {
        content: attr(data-tooltip);
        position: absolute;
        bottom: 100%;
        left: 50%;
        transform: translateX(-50%);
        padding: 0.5rem 0.75rem;
        background: var(--text-primary);
        color: var(--surface);
        font-size: 0.75rem;
        border-radius: var(--radius-md);
        white-space: nowrap;
        opacity: 0;
        visibility: hidden;
        transition: all 0.15s ease;
        z-index: 50;
        margin-bottom: 0.5rem;
    }

    [data-tooltip]:hover::before {
        opacity: 1;
        visibility: visible;
    }

    /* =====================================================
     MATERIAL SYMBOLS SETUP
     ===================================================== */
    .material-symbols-outlined {
        font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
    }

    .material-symbols-outlined.fill {
        font-variation-settings: 'FILL' 1, 'wght' 400, 'GRAD' 0, 'opsz' 24;
    }

    /* =====================================================
     MOBILE RESPONSIVE OVERRIDES
     ===================================================== */
    @media (max-width: 767px) {
        .page-container {
            padding: 1rem;
        }

        .card-header {
            padding: 0.75rem;
            flex-direction: column;
            align-items: flex-start;
            gap: 0.5rem;
        }

        .filter-bar {
            flex-direction: column;
            padding: 0.75rem;
        }

        .filter-search {
            width: 100%;
        }

        .filter-group {
            width: 100%;
            justify-content: flex-start;
        }

        .btn {
            height: 44px;
            font-size: 1rem;
        }

        .btn-sm {
            height: 40px;
        }

        .form-input,
        .form-select {
            height: 44px;
            font-size: 16px;
            /* Prevents iOS zoom */
        }

        .modal {
            max-height: 90vh;
            border-radius: var(--radius-xl) var(--radius-xl) 0 0;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            max-width: 100%;
        }

        .modal-footer {
            flex-direction: column;
        }

        .modal-footer .btn {
            width: 100%;
        }

        /* Hide desktop-only elements */
        .desktop-only {
            display: none !important;
        }
    }

    @media (min-width: 768px) {

        /* Hide mobile-only elements */
        .mobile-only {
            display: none !important;
        }
    }

    /* =====================================================
     SIDEBAR COMPONENT — iOS 26 Tinted Glass Pills
     ===================================================== */
    .nav-item {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        padding: 0.5rem 0.75rem;
        border-radius: var(--radius-lg);
        color: var(--text-secondary);
        text-decoration: none;
        cursor: pointer;
        margin-bottom: 0.25rem;
        position: relative;
    }

    .nav-item:hover {
        background: rgba(0, 0, 0, 0.04);
        color: var(--text-primary);
    }

    .nav-item.active {
        background: var(--sidebar-active-bg);
        color: var(--sidebar-active-text);
        font-weight: 600;
        box-shadow: inset 0 0 0 1px rgba(16, 185, 129, 0.12);
    }

    /* Removed: old left-border pipe indicator */
    .nav-item.active::before {
        display: none;
    }

    .sidebar-group-label {
        padding: 0 0.75rem;
        margin-bottom: 0.375rem;
        font-size: 0.6875rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.06em;
        color: rgba(60, 60, 67, 0.4);
    }

    /* =====================================================
     DASHBOARD SPECIFIC COMPONENTS
     ===================================================== */

    /* KPI Cards Refined */
    .kpi-grid-5 {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        gap: 1rem;
    }

    .kpi-card {
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: 0.75rem;
        padding: 1.25rem;
        box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
        transition: box-shadow 0.2s ease;
        position: relative;
        overflow: hidden;
    }

    .kpi-card:hover {
        box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    }

    .kpi-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 0.75rem;
    }

    .kpi-icon-box {
        width: 2.5rem;
        height: 2.5rem;
        border-radius: 0.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .kpi-icon-box.bg-blue {
        background: #dbeafe;
        color: #2563eb;
    }

    .kpi-icon-box.bg-green {
        background: #dcfce7;
        color: #059669;
    }

    .kpi-icon-box.bg-red {
        background: #fee2e2;
        color: #dc2626;
    }

    .kpi-icon-box.bg-orange {
        background: #ffedd5;
        color: #ea580c;
    }

    .kpi-icon-box.bg-yellow {
        background: #fef9c3;
        color: #ca8a04;
    }

    .kpi-tag {
        font-size: 0.75rem;
        font-weight: 700;
        padding: 0.25rem 0.5rem;
        border-radius: 9999px;
        border: 1px solid transparent;
    }

    .kpi-tag.badge-info {
        background: #eff6ff;
        color: #2563eb;
        border-color: #bfdbfe;
    }

    .kpi-tag.badge-success {
        background: #f0fdf4;
        color: #059669;
        border-color: #bbf7d0;
    }

    .kpi-tag.badge-danger {
        background: #fef2f2;
        color: #dc2626;
        border-color: #fecaca;
    }

    .kpi-tag.badge-warning {
        background: #fff7ed;
        color: #ea580c;
        border-color: #fed7aa;
    }

    .kpi-tag.badge-excellent {
        background: #fefce8;
        color: #ca8a04;
        border-color: #fef08a;
    }

    .kpi-label {
        font-size: 0.875rem;
        font-weight: 500;
        color: #64748b;
        margin-bottom: 0.25rem;
    }

    .kpi-value {
        font-size: 1.5rem;
        font-weight: 700;
        color: #0f172a;
        letter-spacing: -0.025em;
    }

    /* Dashboard Layouts */
    .dashboard-main-grid {
        display: grid;
        grid-template-columns: 1fr 380px;
        gap: 1.25rem;
        height: 480px;
    }

    .dashboard-bottom-grid {
        display: grid;
        grid-template-columns: 1fr 380px;
        gap: 1.25rem;
    }

    .dashboard-map-wrapper {
        background: #f1f5f9;
        overflow: hidden;
        position: relative;
        flex: 1;
    }

    /* Map Components */
    .header-toggle-group {
        display: flex;
        background: var(--background);
        padding: 0.25rem;
        border-radius: var(--radius-md);
        border: 1px solid var(--border);
    }

    .header-toggle-group .toggle-btn {
        padding: 0.375rem 0.75rem;
        font-size: 0.75rem;
        font-weight: 600;
        border-radius: var(--radius-sm);
        border: none;
        background: transparent;
        color: var(--text-secondary);
        cursor: pointer;
        transition: all 0.15s ease;
    }

    .header-toggle-group .toggle-btn.active {
        background: var(--success);
        color: white;
    }

    .map-time-overlay {
        position: absolute;
        top: 2rem;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(4px);
        padding: 0.5rem 1rem;
        border-radius: var(--radius-full);
        box-shadow: var(--shadow-md);
        z-index: 10;
        font-weight: 700;
        font-size: 1.125rem;
        color: var(--text-primary);
        display: flex;
        align-items: center;
        gap: 0.5rem;
        pointer-events: none;
    }

    .map-legend {
        position: absolute;
        bottom: 1.25rem;
        left: 1.25rem;
        background: white;
        padding: 0.75rem 1rem;
        border-radius: var(--radius-lg);
        box-shadow: var(--shadow-md);
        z-index: 10;
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
    }

    .legend-item {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.75rem;
        font-weight: 600;
        color: var(--text-secondary);
    }

    .legend-item .dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
    }

    .dot.active {
        background: #10b981;
        box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.15);
    }

    .dot.idle {
        background: #f59e0b;
    }

    .dot.alert {
        background: #ef4444;
        box-shadow: 0 0 0 4px rgba(239, 68, 68, 0.15);
    }

    /* Alert List Items */
    .alert-item-detailed {
        padding: 1rem 0;
        border-bottom: 1px solid var(--border);
    }

    .alert-item-detailed:last-child {
        border-bottom: none;
    }

    .alert-item-header {
        display: flex;
        gap: 0.875rem;
        margin-bottom: 0.5rem;
    }

    .alert-type-icon {
        width: 2.25rem;
        height: 2.25rem;
        border-radius: var(--radius-full);
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
    }

    .alert-type-icon.critical {
        background: #fef2f2;
        color: #ef4444;
    }

    .alert-type-icon.warning {
        background: #fffbeb;
        color: #f59e0b;
    }

    .alert-type-icon.info {
        background: #eff6ff;
        color: #3b82f6;
    }

    .alert-meta h4 {
        font-size: 0.875rem;
        font-weight: 700;
        color: var(--text-primary);
        line-height: 1.2;
    }

    .alert-meta p {
        font-size: 0.75rem;
        font-weight: 500;
        color: var(--text-muted);
    }

    .alert-msg {
        font-size: 0.8125rem;
        color: var(--text-secondary);
        line-height: 1.4;
        margin-bottom: 0.75rem;
        padding-left: 3.125rem;
    }

    .alert-actions-group {
        display: flex;
        gap: 0.5rem;
        padding-left: 3.125rem;
    }

    /* Submissions List */
    .submission-item {
        display: flex;
        align-items: center;
        gap: 0.875rem;
        padding: 0.75rem;
        border-radius: var(--radius-md);
        transition: background 0.15s;
        cursor: pointer;
    }

    .submission-item:hover {
        background: var(--hover-bg);
    }

    .submission-icon {
        width: 2rem;
        height: 2rem;
        background: #f1f5f9;
        color: #64748b;
        border-radius: var(--radius-full);
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
    }

    .submission-icon.success {
        background: #f0fdf4;
        color: #059669;
    }

    .submission-content {
        flex: 1;
        min-width: 0;
    }

    .submission-content h5 {
        font-size: 0.875rem;
        font-weight: 600;
        color: var(--text-primary);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .submission-content p {
        font-size: 0.75rem;
        color: var(--text-muted);
    }

    .submission-time {
        font-size: 0.75rem;
        font-weight: 500;
        color: var(--text-muted);
    }

    @media (max-width: 1024px) {
        .kpi-grid-5 {
            grid-template-columns: repeat(3, 1fr);
        }

        .dashboard-main-grid,
        .dashboard-bottom-grid {
            grid-template-columns: 1fr;
            height: auto;
        }

        .dashboard-map-wrapper {
            height: 400px;
        }
    }

    /* =====================================================
     SIDEBAR STRUCTURE — iOS 26 Liquid Glass
     ===================================================== */
    .sidebar {
        width: 16rem;
        background: var(--glass-frosted);
        backdrop-filter: var(--glass-blur-light);
        -webkit-backdrop-filter: var(--glass-blur-light);
        border-right: 1px solid var(--border);
        display: flex;
        flex-direction: column;
        height: 100%;
        flex-shrink: 0;
        transition: width var(--duration-slow) var(--spring-bounce);
        position: relative;
        z-index: 20;
    }

    .sidebar.collapsed {
        width: 4rem;
    }

    .sidebar.collapsed .sidebar-text,
    .sidebar.collapsed .sidebar-group-label,
    .sidebar.collapsed .logo-text {
        display: none;
    }

    .sidebar.collapsed .nav-item {
        justify-content: center;
        padding-left: 0;
        padding-right: 0;
    }

    .sidebar-header {
        padding: 1rem 1.25rem;
        display: flex;
        align-items: center;
        gap: 0.75rem;
        height: 4.5rem;
    }

    .sidebar-logo {
        width: 3rem;
        height: 3rem;
        background: var(--primary);
        border-radius: var(--radius-xl);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        overflow: hidden;
        /* Ensure image stays inside rounded corners */
        flex-shrink: 0;
        /* Prevent shrinking */
    }

    .sidebar-logo-img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .sidebar-logo .material-symbols-outlined {
        font-size: 1.5rem;
    }

    .logo-text h1 {
        font-size: 0.9375rem;
        font-weight: 700;
        color: var(--text-primary);
        line-height: 1.1;
    }

    .logo-text p {
        font-size: 0.6875rem;
        color: var(--text-secondary);
        font-weight: 500;
        margin-top: 1px;
    }

    .sidebar-nav {
        flex: 1;
        padding: 0.75rem;
        overflow-y: auto;
    }

    .sidebar-nav::-webkit-scrollbar {
        width: 4px;
    }

    .sidebar-nav::-webkit-scrollbar-thumb {
        background: var(--border);
        border-radius: 10px;
    }

    .nav-group {
        margin-bottom: 1.25rem;
    }

    .nav-item .material-symbols-outlined {
        font-size: 1.25rem;
        transition: transform 0.2s ease;
    }

    .nav-item.active .material-symbols-outlined {
        color: #10b981;
        font-variation-settings: 'FILL' 1;
    }

    .sidebar-text {
        white-space: nowrap;
    }

    .sidebar-footer {
        padding: 1rem;
        border-top: 1px solid var(--sidebar-border);
        display: flex;
        justify-content: flex-end;
    }

    .toggle-btn {
        padding: 0.5rem;
        border-radius: 0.5rem;
        color: var(--text-muted);
        background: none;
        border: none;
        cursor: pointer;
        transition: background 0.15s ease;
    }

    .toggle-btn:hover {
        background: var(--hover-bg);
    }

    .sidebar.collapsed .toggle-icon {
        transform: rotate(180deg);
    }

    /* =====================================================
     FILTER COMPONENT
     ===================================================== */
    .filter-bar {
        display: flex;
        align-items: center;
        gap: 1.25rem;
        flex-wrap: wrap;
        margin-bottom: 1.5rem;
        padding: 0.75rem 1rem;
        min-height: 3.5rem;
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: var(--radius-lg);
    }

    .filter-group {
        display: flex;
        align-items: center;
        gap: 1rem;
        flex: 1;
    }

    @media (max-width: 768px) {
        .filter-bar {
            flex-direction: column;
            align-items: stretch;
            gap: 1rem;
        }

        .filter-group {
            flex-direction: column;
            align-items: stretch;
        }
    }

    /* Input Group (for icon-prefixed inputs) */
    .input-group {
        position: relative;
        display: flex;
        align-items: center;
        width: 100%;
        max-width: 320px;
    }

    .input-group .material-symbols-outlined,
    .input-group .input-icon {
        position: absolute;
        left: 0.75rem;
        color: var(--text-muted);
        font-size: 1.125rem;
        pointer-events: none;
    }

    .input-group .form-input,
    .input-group input {
        padding-left: 2.5rem;
    }


    /* =====================================================
     HEADER COMPONENT — iOS 26 Liquid Glass
     ===================================================== */
    .app-header {
        height: 4.5rem;
        background: var(--glass-frosted);
        backdrop-filter: var(--glass-blur-light);
        -webkit-backdrop-filter: var(--glass-blur-light);
        border-bottom: 1px solid var(--border);
        box-shadow: var(--shadow-sm);
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 1.5rem;
        flex-shrink: 0;
        z-index: 10;
        position: relative;
    }

    .header-left {
        display: flex;
        align-items: center;
        gap: 1.25rem;
    }

    .mobile-menu-btn {
        display: none;
        padding: 0.5rem;
        color: var(--text-muted);
        background: none;
        border: none;
        cursor: pointer;
    }

    @media (max-width: 1024px) {
        .mobile-menu-btn {
            display: block;
        }
    }

    .page-title {
        font-size: 1.25rem;
        font-weight: 700;
        color: var(--text-primary);
        letter-spacing: -0.02em;
    }

    @media (max-width: 768px) {
        .page-title {
            display: none;
        }
    }

    .header-center {
        flex: 1;
        display: flex;
        justify-content: center;
        padding: 0 2rem;
    }

    .header-search {
        max-width: 480px;
        width: 100%;
        position: relative;
    }

    .header-search .material-symbols-outlined {
        position: absolute;
        left: 1rem;
        top: 50%;
        transform: translateY(-50%);
        color: var(--text-muted);
        font-size: 1.25rem;
        pointer-events: none;
    }

    .header-search input {
        width: 100%;
        height: 2.75rem;
        background: var(--background);
        border: 1px solid var(--border);
        border-radius: var(--radius-full);
        padding: 0 1rem 0 2.75rem;
        font-size: 0.875rem;
        color: var(--text-primary);
        transition: all 0.2s ease;
    }

    .header-search input:focus {
        background: var(--surface);
        border-color: var(--primary);
        box-shadow: 0 0 0 3px var(--primary-light);
        outline: none;
    }

    @media (max-width: 768px) {
        .header-center {
            display: none;
        }
    }

    .header-right {
        display: flex;
        align-items: center;
        gap: 1.5rem;
    }

    .header-actions {
        display: flex;
        align-items: center;
        gap: 1rem;
    }

    .header-icon-btn {
        width: 2.5rem;
        height: 2.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: var(--radius-full);
        color: var(--text-secondary);
        background: none;
        border: none;
        cursor: pointer;
        transition: all 0.15s ease;
        position: relative;
    }

    .header-icon-btn:hover {
        background: var(--hover-bg);
        color: var(--text-primary);
    }

    .header-icon-btn.has-updates::after {
        content: '';
        position: absolute;
        top: 0.625rem;
        right: 0.625rem;
        width: 0.5rem;
        height: 0.5rem;
        background: var(--error);
        border-radius: var(--radius-full);
        border: 2px solid var(--surface);
    }

    .user-profile {
        display: flex;
        align-items: center;
        gap: 0.875rem;
        cursor: pointer;
        padding: 0.25rem;
        border-radius: var(--radius-full);
        transition: background 0.15s ease;
    }

    .user-profile:hover {
        background: var(--hover-bg);
    }

    .user-info {
        text-align: right;
    }

    @media (max-width: 640px) {
        .user-info {
            display: none;
        }
    }

    .user-name {
        font-size: 0.875rem;
        font-weight: 600;
        color: var(--text-primary);
        line-height: 1.2;
    }

    .user-role {
        font-size: 0.75rem;
        font-weight: 500;
        color: var(--text-muted);
    }

    .user-avatar {
        width: 2.5rem;
        height: 2.5rem;
        border-radius: var(--radius-full);
        background: #e2e8f0;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
        color: var(--text-secondary);
        overflow: hidden;
        border: 1px solid var(--border);
    }

    .user-avatar img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    /* =====================================================
     DATA DISPLAY COMPONENTS
     ===================================================== */

    /* Input Group (Search) */
    .input-group {
        position: relative;
        display: inline-block;
        width: 100%;
    }

    .input-group .input-icon {
        position: absolute;
        left: 0.75rem;
        top: 50%;
        transform: translateY(-50%);
        color: var(--text-muted);
        font-size: 1.125rem;
        pointer-events: none;
    }

    .input-group .form-input {
        padding-left: 2.5rem;
    }

    /* Vertical Divider */
    .divider-v {
        width: 1px;
        height: 24px;
        background: var(--border);
        margin: 0 0.5rem;
    }

    /* Progress Bar */
    .progress-bar {
        width: 100%;
        height: 8px;
        background-color: var(--border);
        border-radius: var(--radius-sm);
        overflow: hidden;
    }

    .progress-fill {
        height: 100%;
        border-radius: var(--radius-sm);
        transition: width 0.3s ease;
    }

    .progress-fill.bg-primary {
        background-color: var(--primary);
    }

    .progress-fill.bg-danger {
        background-color: var(--error);
    }

    .progress-fill.bg-info {
        background-color: var(--info);
    }

    /* Site Icon */
    .site-icon {
        width: 32px;
        height: 32px;
        border-radius: var(--radius-md);
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: #dbeafe;
        /* var(--primary-light) hardcoded for consistency */
        color: var(--primary);
        flex-shrink: 0;
    }

    /* Avatar XS */
    .avatar-xs {
        width: 24px;
        height: 24px;
        font-size: 0.625rem;
        border-radius: var(--radius-full);
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
        color: white;
    }

    /* Table Row Context Colors */
    .row-danger {
        background-color: #fef2f2;
    }

    .row-danger:hover {
        background-color: #fee2e2 !important;
    }

    .row-info {
        background-color: #eff6ff;
    }

    .row-info:hover {
        background-color: #dbeafe !important;
    }

    .clickable-row {
        cursor: pointer;
    }

    /* Star Rating */
    .star-rating {
        display: flex;
        gap: 1px;
    }

    .star-rating .star {
        font-size: 16px;
        color: #fbbf24;
    }

    .star-rating .star-empty {
        font-size: 16px;
        color: var(--border);
    }

    /* Score Circle */
    .score-circle {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        background: var(--surface);
        border: 4px solid var(--border);
    }

    .score-circle.score-good {
        background: linear-gradient(135deg, #10b981, #059669);
        color: white;
        border: none;
    }

    .score-circle.score-ok {
        background: linear-gradient(135deg, #f59e0b, #d97706);
        color: white;
        border: none;
    }

    .score-circle.score-bad {
        background: linear-gradient(135deg, #ef4444, #dc2626);
        color: white;
        border: none;
    }

    .score-value {
        font-size: 24px;
        font-weight: 700;
        line-height: 1;
    }

    .score-label {
        font-size: 10px;
        text-transform: uppercase;
        opacity: 0.9;
        font-weight: 600;
        margin-top: 2px;
    }

    /* Inspection/Modal Header Details */
    .inspection-header {
        display: flex;
        gap: 20px;
        align-items: center;
        padding: 16px;
        background-color: var(--background);
        border-radius: var(--radius-lg);
        border: 1px solid var(--border);
    }

    .inspection-meta p {
        margin: 4px 0;
        font-size: 0.875rem;
        color: var(--text-secondary);
    }

    .inspection-meta strong {
        color: var(--text-primary);
        font-weight: 600;
    }

    /* Photo Gallery */
    .photo-gallery {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
    }

    .gallery-img {
        width: 100px;
        height: 100px;
        object-fit: cover;
        border-radius: var(--radius-md);
        cursor: pointer;
        transition: transform 0.2s;
        border: 1px solid var(--border);
    }

    .gallery-img:hover {
        transform: scale(1.05);
        box-shadow: var(--shadow-md);
    }

    /* Handover Feed */
    .handover-feed {
        max-width: 800px;
        margin: 0 auto;
    }

    .handover-card {
        cursor: pointer;
        transition: transform 0.2s, box-shadow 0.2s;
        border: 1px solid var(--border);
    }

    .handover-card:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-lg);
        border-color: var(--primary-light);
    }

    .handover-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 16px;
    }

    .handover-time {
        display: flex;
        align-items: center;
        gap: 8px;
        font-weight: 600;
        color: var(--text-primary);
    }

    /* Guards row */
    .handover-guards {
        display: flex;
        align-items: center;
        gap: 16px;
        padding: 12px;
        background-color: var(--background);
        border-radius: var(--radius-md);
        border: 1px solid var(--border);
    }

    .guard-card {
        display: flex;
        align-items: center;
        gap: 12px;
        flex: 1;
    }

    /* Site info */
    .handover-site {
        display: flex;
        align-items: center;
        gap: 8px;
        color: var(--text-secondary);
    }

    /* Notes */
    .handover-notes {
        font-style: italic;
        padding: 12px;
        background-color: var(--background);
        border-radius: var(--radius-md);
        border-left: 3px solid var(--primary);
    }

    /* Activity Timeline (Table) */
    .time-divider td {
        padding: 8px 16px !important;
        background-color: var(--background) !important;
        border-bottom: 1px solid var(--border);
    }

    .time-label {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        font-size: 0.75rem;
        font-weight: 600;
        color: var(--text-muted);
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }

    .time-label::before,
    .time-label::after {
        content: '';
        width: 24px;
        height: 1px;
        background-color: var(--border);
        opacity: 0.5;
    }

    .time-badge {
        display: inline-block;
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        font-size: 0.8125rem;
        font-weight: 600;
        color: var(--text-primary);
        background-color: var(--surface);
        padding: 2px 6px;
        border-radius: var(--radius-sm);
        border: 1px solid var(--border);
    }

    /* Detail Grid (Modals) */
    .detail-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
    }

    .detail-item {
        padding: 0.75rem;
        background-color: var(--background);
        border-radius: var(--radius-md);
        display: flex;
        flex-direction: column;
        border: 1px solid var(--border);
    }

    .detail-label {
        font-size: 0.75rem;
        color: var(--text-muted);
        margin-bottom: 0.25rem;
        font-weight: 500;
    }

    .detail-value {
        font-size: 0.875rem;
        color: var(--text-primary);
        font-weight: 600;
        word-break: break-word;
    }

    @media (max-width: 640px) {
        .detail-grid {
            grid-template-columns: 1fr;
        }
    }

    /* =====================================================
       INCIDENT & MANAGEMENT COMPONENTS
       ===================================================== */

    /* KPI Enhancements */
    /* Note: Base .kpi-card is defined earlier. These adds the colored strip. */
    .kpi-card-strip {
        position: relative;
        overflow: hidden;
    }

    .kpi-card-strip::after {
        content: '';
        position: absolute;
        right: 0;
        top: 0;
        height: 100%;
        width: 4px;
        background: var(--border);
        /* Default */
    }

    .kpi-blue::after {
        background: #3b82f6;
    }

    .kpi-red::after {
        background: #ef4444;
    }

    .kpi-orange::after {
        background: #f97316;
    }

    .kpi-green::after {
        background: #10b981;
    }

    .kpi-sublabel {
        font-size: 0.75rem;
        color: var(--text-muted);
        margin-top: 0.25rem;
        display: block;
    }

    /* Category Icons */
    .category-icon {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
    }

    .category-icon .material-symbols-outlined {
        font-size: 1.125rem;
    }

    .category-theft {
        background: rgba(239, 68, 68, 0.1);
        color: #ef4444;
    }

    .category-fire {
        background: rgba(249, 115, 22, 0.1);
        color: #f97316;
    }

    .category-medical {
        background: rgba(16, 185, 129, 0.1);
        color: #10b981;
    }

    .category-vandalism {
        background: rgba(168, 85, 247, 0.1);
        color: #a855f7;
    }

    .category-access {
        background: rgba(59, 130, 246, 0.1);
        color: #3b82f6;
    }

    /* Solid Badges */
    .badge-danger-solid {
        background: #ef4444;
        color: white;
        border: none;
    }

    .badge-warning-solid {
        background: #f97316;
        color: white;
        border: none;
    }

    .badge-info-solid {
        background: #3b82f6;
        color: white;
        border: none;
    }

    /* Severity Indicators (Square) */
    .severity-indicator {
        width: 48px;
        height: 48px;
        border-radius: var(--radius-md);
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        color: white;
    }

    .severity-critical {
        background: linear-gradient(135deg, #ef4444, #dc2626);
    }

    .severity-high {
        background: linear-gradient(135deg, #f97316, #ea580c);
    }

    .severity-medium {
        background: linear-gradient(135deg, #3b82f6, #2563eb);
    }

    .severity-low {
        background: linear-gradient(135deg, #6b7280, #4b5563);
    }

    /* Entity Header (Generic for Modals) */
    .entity-header {
        display: flex;
        gap: 20px;
        align-items: flex-start;
        padding: 16px;
        background-color: var(--background);
        border-radius: var(--radius-lg);
        border: 1px solid var(--border);
    }

    .entity-meta {
        flex: 1;
    }

    .entity-meta p {
        margin: 4px 0;
        font-size: 0.875rem;
        color: var(--text-secondary);
    }

    .entity-meta strong {
        color: var(--text-primary);
        font-weight: 600;
    }

    /* Complaint Icons */
    .complaint-icon {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
    }

    .complaint-service {
        background: rgba(249, 115, 22, 0.1);
        color: #f97316;
    }

    .complaint-behavior {
        background: rgba(239, 68, 68, 0.1);
        color: #ef4444;
    }

    .complaint-billing {
        background: rgba(234, 179, 8, 0.1);
        color: #eab308;
    }

    .complaint-punctuality {
        background: rgba(168, 85, 247, 0.1);
        color: #a855f7;
    }

    .complaint-uniform {
        background: rgba(100, 116, 139, 0.1);
        color: #64748b;
    }

    /* Priority Dots */
    .priority-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        display: inline-block;
    }

    .priority-p1 {
        background: #ef4444;
        animation: pulse 2s infinite;
    }

    .priority-p2 {
        background: #f97316;
    }

    .priority-p3 {
        background: #eab308;
    }

    .priority-p4 {
        background: #64748b;
    }

    @keyframes pulse {

        0%,
        100% {
            opacity: 1;
        }

        50% {
            opacity: 0.5;
        }
    }

    .status-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        display: inline-block;
        margin-right: 6px;
    }

    /* =====================================================
       SITES MANAGEMENT COMPONENTS
       ===================================================== */

    .route-badge {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 24px;
        height: 24px;
        border-radius: var(--radius-sm);
        font-size: 0.75rem;
        font-weight: 700;
        text-transform: uppercase;
    }

    .route-a {
        background-color: var(--primary-light);
        color: var(--primary);
        border: 1px solid rgba(59, 130, 246, 0.2);
    }

    .route-b {
        background-color: var(--warning-light);
        color: var(--warning);
        border: 1px solid rgba(249, 115, 22, 0.2);
    }

    .route-special {
        background-color: rgba(168, 85, 247, 0.1);
        color: #a855f7;
        border: 1px solid rgba(168, 85, 247, 0.2);
    }

    /* Inactive Row State */
    .row-inactive {
        opacity: 0.6;
    }

    .row-inactive:hover {
        opacity: 1;
    }

    /* =====================================================
     UTILITY CLASSES (Tailwind Compatibility)
     ===================================================== */

    /* Flexbox */
    .flex {
        display: flex;
    }

    .flex-col {
        flex-direction: column;
    }

    .items-center {
        align-items: center;
    }

    .items-start {
        align-items: flex-start;
    }

    .items-end {
        align-items: flex-end;
    }

    .justify-center {
        justify-content: center;
    }

    .justify-between {
        justify-content: space-between;
    }

    .justify-end {
        justify-content: flex-end;
    }

    .justify-start {
        justify-content: flex-start;
    }

    .flex-1 {
        flex: 1;
    }

    .flex-wrap {
        flex-wrap: wrap;
    }

    .shrink-0 {
        flex-shrink: 0;
    }

    .grow {
        flex-grow: 1;
    }

    /* Gap */
    .gap-1 {
        gap: 0.25rem;
    }

    .gap-2 {
        gap: 0.5rem;
    }

    .gap-3 {
        gap: 0.75rem;
    }

    .gap-4 {
        gap: 1rem;
    }

    .gap-6 {
        gap: 1.5rem;
    }

    .gap-8 {
        gap: 2rem;
    }

    .gap-1\.5 {
        gap: 0.375rem;
    }

    /* Width Utilities (ShadCN Standard) */
    .w-16 {
        width: 4rem;
    }

    /* 64px */
    .w-20 {
        width: 5rem;
    }

    /* 80px */
    .w-24 {
        width: 6rem;
    }

    /* 96px */
    .w-28 {
        width: 7rem;
    }

    /* 112px */
    .w-32 {
        width: 8rem;
    }

    /* 128px */
    .w-36 {
        width: 9rem;
    }

    /* 144px */
    .w-40 {
        width: 10rem;
    }

    /* 160px */
    .w-44 {
        width: 11rem;
    }

    /* 176px */
    .w-48 {
        width: 12rem;
    }

    /* 192px */
    .w-52 {
        width: 13rem;
    }

    /* 208px */
    .w-56 {
        width: 14rem;
    }

    /* 224px */
    .w-60 {
        width: 15rem;
    }

    /* 240px */
    .w-64 {
        width: 16rem;
    }

    /* 256px */
    .w-72 {
        width: 18rem;
    }

    /* 288px */
    .w-80 {
        width: 20rem;
    }

    /* 320px */
    .w-96 {
        width: 24rem;
    }

    /* 384px */
    .w-full {
        width: 100%;
    }

    .w-auto {
        width: auto;
    }

    /* Max Width */
    .max-w-xs {
        max-width: 20rem;
    }

    .max-w-sm {
        max-width: 24rem;
    }

    .max-w-md {
        max-width: 28rem;
    }

    .max-w-lg {
        max-width: 32rem;
    }

    /* Height Utilities */
    .h-6 {
        height: 1.5rem;
    }

    .h-8 {
        height: 2rem;
    }

    .h-10 {
        height: 2.5rem;
    }

    .h-12 {
        height: 3rem;
    }

    .h-full {
        height: 100%;
    }

    /* Spacing (Margin/Padding) */
    .p-0 {
        padding: 0;
    }

    .p-4 {
        padding: 1rem;
    }

    .p-5 {
        padding: 1.25rem;
    }

    .p-6 {
        padding: 1.5rem;
    }

    .px-4 {
        padding-left: 1rem;
        padding-right: 1rem;
    }

    .px-6 {
        padding-left: 1.5rem;
        padding-right: 1.5rem;
    }

    .py-4 {
        padding-top: 1rem;
        padding-bottom: 1rem;
    }

    .pb-0 {
        padding-bottom: 0;
    }

    .pb-6 {
        padding-bottom: 1.5rem;
    }

    .mb-6 {
        margin-bottom: 1.5rem;
    }

    .ml-2 {
        margin-left: 0.5rem;
    }

    .mt-2 {
        margin-top: 0.5rem;
    }

    /* Typography */
    .text-xs {
        font-size: 0.75rem;
        line-height: 1rem;
    }

    .text-sm {
        font-size: 0.875rem;
        line-height: 1.25rem;
    }

    .text-lg {
        font-size: 1.125rem;
        line-height: 1.75rem;
    }

    .text-xl {
        font-size: 1.25rem;
        line-height: 1.75rem;
    }

    .font-medium {
        font-weight: 500;
    }

    .font-semibold {
        font-weight: 600;
    }

    .font-bold {
        font-weight: 700;
    }

    .text-center {
        text-align: center;
    }

    .text-right {
        text-align: right;
    }

    .uppercase {
        text-transform: uppercase;
    }

    .leading-none {
        line-height: 1;
    }

    /* Text Colors */
    .text-green-500 {
        color: #10b981;
    }

    .text-green-600 {
        color: #059669;
    }

    .text-red-500 {
        color: #ef4444;
    }

    .text-red-600 {
        color: #dc2626;
    }

    .text-orange-500 {
        color: #f97316;
    }

    .text-slate-500 {
        color: #64748b;
    }

    .text-white {
        color: white;
    }

    .text-muted {
        color: var(--text-muted);
    }

    .bg-green-400 {
        background-color: #4ade80;
    }

    .bg-slate-200 {
        background-color: #e2e8f0;
    }

    /* Size */
    .w-full {
        width: 100%;
    }

    .h-full {
        height: 100%;
    }

    .relative {
        position: relative;
    }

    .absolute {
        position: absolute;
    }

    .overflow-hidden {
        overflow: hidden;
    }

    .overflow-y-auto {
        overflow-y: auto;
    }

    /* Borders */
    .border-none {
        border: none;
    }

    .rounded-lg {
        border-radius: var(--radius-lg);
    }

    .object-cover {
        object-fit: cover;
    }

    .max-h-48 {
        max-height: 12rem;
    }


    /* Display */
    .hidden {
        display: none;
    }

    .block {
        display: block;
    }

    .inline-block {
        display: inline-block;
    }

    /* Hover */
    .hover\:underline:hover {
        text-decoration: underline;
    }

    /* Grid and Alignment */
    .grid {
        display: grid;
    }

    .grid-cols-1 {
        grid-template-columns: repeat(1, minmax(0, 1fr));
    }

    .grid-cols-2 {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }

    .col-span-2 {
        grid-column: span 2 / span 2;
    }

    .place-content-center {
        place-content: center;
    }

    .place-items-center {
        place-items: center;
    }

    .justify-center {
        justify-content: center;
    }

    .items-center {
        align-items: center;
    }

    /* =====================================================
       SITES MANAGEMENT COMPONENTS
       ===================================================== */

    .route-badge {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 24px;
        height: 24px;
        border-radius: var(--radius-sm);
        font-size: 0.75rem;
        font-weight: 700;
        text-transform: uppercase;
    }

    .route-a {
        background-color: var(--primary-light);
        color: var(--primary);
        border: 1px solid rgba(59, 130, 246, 0.2);
    }

    .route-b {
        background-color: var(--warning-light);
        color: var(--warning);
        border: 1px solid rgba(249, 115, 22, 0.2);
    }

    .route-special {
        background-color: rgba(168, 85, 247, 0.1);
        color: #a855f7;
        border: 1px solid rgba(168, 85, 247, 0.2);
    }

    /* Inactive Row State */
    .row-inactive {
        opacity: 0.6;
    }

    /* =====================================================
       CALENDAR COMPONENT
       ===================================================== */

    .view-toggle {
        display: flex;
        background: var(--surface-bg);
        border: 1px solid var(--border);
        border-radius: var(--radius-md);
        padding: 4px;
        gap: 2px;
    }

    .view-btn {
        padding: 6px 12px;
        font-size: 0.75rem;
        font-weight: 600;
        color: var(--text-muted);
        border-radius: var(--radius-sm);
        border: none;
        background: transparent;
        cursor: pointer;
        transition: all 0.2s;
    }

    .view-btn:hover {
        color: var(--text-primary);
        background: var(--hover-bg);
    }

    .view-btn.active {
        background: var(--background);
        color: var(--text-primary);
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
    }

    .calendar-card {
        display: flex;
        flex-direction: column;
        height: calc(100vh - 280px);
        min-height: 500px;
    }

    .calendar-header {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        background: var(--surface-bg);
        border-bottom: 1px solid var(--border);
    }

    .calendar-day-header {
        padding: 12px;
        text-align: center;
        font-size: 0.7rem;
        font-weight: 600;
        text-transform: uppercase;
        color: var(--text-muted);
    }

    .calendar-grid {
        flex: 1;
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        grid-auto-rows: minmax(100px, 1fr);
        overflow-y: auto;
    }

    .calendar-cell {
        border-right: 1px solid var(--border);
        border-bottom: 1px solid var(--border);
        padding: 8px;
        cursor: pointer;
        transition: background 0.2s;
        min-height: 100px;
        display: flex;
        flex-direction: column;
    }

    .calendar-cell:hover {
        background: var(--hover-bg);
    }

    .calendar-cell.other-month {
        background: var(--surface-bg);
        opacity: 0.5;
    }

    .calendar-cell.today {
        background: rgba(59, 130, 246, 0.05);
        box-shadow: inset 0 0 0 2px #3b82f6;
    }

    .cell-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 6px;
    }

    .day-number {
        font-size: 0.8125rem;
        font-weight: 600;
        color: var(--text-primary);
    }

    .day-number.today-badge {
        background: #3b82f6;
        color: white;
        width: 24px;
        height: 24px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .today-label {
        font-size: 0.625rem;
        font-weight: 600;
        color: #3b82f6;
        background: rgba(59, 130, 246, 0.1);
        padding: 2px 6px;
        border-radius: 4px;
    }

    .cell-shifts {
        display: flex;
        flex-direction: column;
        gap: 4px;
    }

    .shift-chip {
        font-size: 0.625rem;
        font-weight: 600;
        padding: 2px 6px;
        border-radius: 4px;
        cursor: pointer;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .shift-day {
        background: rgba(234, 179, 8, 0.2);
        color: #eab308;
        border: 1px solid rgba(234, 179, 8, 0.3);
    }

    .shift-night {
        background: rgba(59, 130, 246, 0.2);
        color: #3b82f6;
        border: 1px solid rgba(59, 130, 246, 0.3);
    }

    .shift-special {
        background: rgba(139, 92, 246, 0.2);
        color: #8b5cf6;
        border: 1px solid rgba(139, 92, 246, 0.3);
    }

    .shift-holiday {
        background: rgba(239, 68, 68, 0.2);
        color: #ef4444;
        border: 1px solid rgba(239, 68, 68, 0.3);
    }

    .more-shifts {
        font-size: 0.625rem;
        color: var(--text-muted);
        font-weight: 500;
    }

    .legend-dot {
        width: 12px;
        height: 12px;
        border-radius: 4px;
    }

    .shift-row {
        display: flex;
        align-items: center;
        gap: 16px;
        padding: 12px;
        border-radius: var(--radius-md);
        cursor: pointer;
        transition: background 0.2s;
        border: 1px solid transparent;
    }

    .shift-row:hover {
        background: var(--hover-bg);
        border-color: var(--border);
    }

    .shift-time {
        font-family: 'Courier New', monospace;
        font-weight: 600;
        color: var(--text-primary);
        font-size: 0.8125rem;
    }

    /* =====================================================
       OVERTIME COMPONENT
       ===================================================== */

    .ot-action-btn {
        width: 32px;
        height: 32px;
        border-radius: var(--radius-md);
        display: flex;
        align-items: center;
        justify-content: center;
        border: none;
        cursor: pointer;
        transition: all 0.2s;
    }

    .ot-action-btn.approve {
        background: rgba(16, 185, 129, 0.1);
        color: #10b981;
    }

    .ot-action-btn.approve:hover {
        background: rgba(16, 185, 129, 0.2);
    }

    .ot-action-btn.reject {
        background: rgba(239, 68, 68, 0.1);
        color: #ef4444;
    }

    .ot-action-btn.reject:hover {
        background: rgba(239, 68, 68, 0.2);
    }

    .row-pending {
        background: rgba(249, 115, 22, 0.02);
    }

    .row-pending:hover {
        background: rgba(249, 115, 22, 0.05);
    }

    /* =====================================================
       REPORTS PAGE COMPONENTS
       ===================================================== */

    /* Section Title */
    .section-title {
        font-size: 0.6875rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        color: var(--text-muted);
        margin-bottom: 1rem;
    }

    /* Report Categories Grid */
    .report-categories-grid {
        display: grid;
        grid-template-columns: repeat(4, minmax(0, 1fr));
        gap: 1rem;
    }

    @media (max-width: 1200px) {
        .report-categories-grid {
            grid-template-columns: repeat(3, minmax(0, 1fr));
        }
    }

    @media (max-width: 900px) {
        .report-categories-grid {
            grid-template-columns: repeat(2, minmax(0, 1fr));
        }
    }

    @media (max-width: 600px) {
        .report-categories-grid {
            grid-template-columns: 1fr;
        }
    }

    /* Report Card - New Style */
    .report-card-new {
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: var(--radius-lg);
        padding: 1.25rem;
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
        transition: all 0.2s ease;
    }

    .report-card-new:hover {
        border-color: var(--primary);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    }

    /* Report Card Icon Box */
    .report-card-icon {
        width: 2.75rem;
        height: 2.75rem;
        border-radius: var(--radius-lg);
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .report-card-icon .material-symbols-outlined {
        font-size: 1.375rem;
        color: white;
    }

    /* Icon background colors */
    .report-card-icon.bg-blue {
        background: linear-gradient(135deg, #3b82f6, #1d4ed8);
    }

    .report-card-icon.bg-green {
        background: linear-gradient(135deg, #10b981, #059669);
    }

    .report-card-icon.bg-purple {
        background: linear-gradient(135deg, #8b5cf6, #7c3aed);
    }

    .report-card-icon.bg-teal {
        background: linear-gradient(135deg, #14b8a6, #0d9488);
    }

    .report-card-icon.bg-red {
        background: linear-gradient(135deg, #ef4444, #dc2626);
    }

    .report-card-icon.bg-yellow {
        background: linear-gradient(135deg, #fbbf24, #f59e0b);
    }

    .report-card-icon.bg-orange {
        background: linear-gradient(135deg, #f97316, #ea580c);
    }

    .report-card-icon.bg-pink {
        background: linear-gradient(135deg, #ec4899, #db2777);
    }

    /* Report Card Title */
    .report-card-title {
        font-size: 0.9375rem;
        font-weight: 600;
        color: var(--text-primary);
        margin: 0;
    }

    /* Report Card Description */
    .report-card-desc {
        font-size: 0.8125rem;
        color: var(--text-muted);
        line-height: 1.5;
        margin: 0;
        flex: 1;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        line-clamp: 2;
        overflow: hidden;
    }

    /* Generate Button */
    .btn-generate {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 0.375rem;
        padding: 0.5rem 1rem;
        font-size: 0.8125rem;
        font-weight: 500;
        color: var(--text-primary);
        background: var(--background);
        border: 1px solid var(--border);
        border-radius: var(--radius-full);
        cursor: pointer;
        transition: all 0.2s ease;
        margin-top: 0.5rem;
    }

    .btn-generate:hover {
        background: var(--surface);
        border-color: var(--primary);
        color: var(--primary);
    }

    .btn-generate .material-symbols-outlined {
        font-size: 1rem;
    }

    /* Download Links */
    .download-link {
        display: inline-flex;
        align-items: center;
        gap: 0.25rem;
        font-size: 0.8125rem;
        font-weight: 500;
        text-decoration: none;
        transition: opacity 0.2s;
    }

    .download-link:hover {
        opacity: 0.8;
    }

    .download-link.pdf {
        color: #ef4444;
    }

    .download-link.csv {
        color: #10b981;
    }

    .download-link .material-symbols-outlined {
        font-size: 1rem;
    }


    /* =====================================================
       DATE RANGE PICKER COMPONENT
       ===================================================== */
    .date-range-picker-btn {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        height: 2.25rem;
        padding: 0 0.75rem;
        font-size: 0.875rem;
        font-weight: normal;
        color: var(--text-primary);
        background: var(--background);
        border: 1px solid var(--border);
        border-radius: var(--radius-md);
        cursor: pointer;
        transition: all 0.2s;
        min-width: 240px;
        justify-content: flex-start;
    }

    .date-range-picker-btn:hover {
        background: var(--surface);
        border-color: var(--text-muted);
    }

    .date-range-picker-btn .material-symbols-outlined {
        font-size: 1.125rem;
        color: var(--text-muted);
    }

    /* Flatpickr Customization to match theme */
    .flatpickr-calendar {
        font-family: 'Noto Sans Lao', sans-serif !important;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;
        border: 1px solid var(--border) !important;
        border-radius: var(--radius-md) !important;
        z-index: 10001 !important;
    }

    .flatpickr-day.selected,
    .flatpickr-day.startRange,
    .flatpickr-day.endRange,
    .flatpickr-day.selected.inRange,
    .flatpickr-day.startRange.inRange,
    .flatpickr-day.endRange.inRange,
    .flatpickr-day.selected:focus,
    .flatpickr-day.startRange:focus,
    .flatpickr-day.endRange:focus,
    .flatpickr-day.selected:hover,
    .flatpickr-day.startRange:hover,
    .flatpickr-day.endRange:hover,
    .flatpickr-day.selected.prevMonthDay,
    .flatpickr-day.startRange.prevMonthDay,
    .flatpickr-day.endRange.prevMonthDay,
    .flatpickr-day.selected.nextMonthDay,
    .flatpickr-day.startRange.nextMonthDay,
    .flatpickr-day.endRange.nextMonthDay {
        background: var(--primary) !important;
        border-color: var(--primary) !important;
    }

    .flatpickr-day.inRange {
        box-shadow: -5px 0 0 #e6e6e6, 5px 0 0 #e6e6e6 !important;
    }

    body.dark .flatpickr-calendar {
        background: var(--surface) !important;
        color: var(--text-primary) !important;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.5) !important;
    }

    body.dark .flatpickr-day.inRange {
        background: rgba(59, 130, 246, 0.2) !important;
        box-shadow: -5px 0 0 rgba(59, 130, 246, 0.2), 5px 0 0 rgba(59, 130, 246, 0.2) !important;
        border-color: transparent !important;
    }

    /* =====================================================
       PAGINATION COMPONENT
       ===================================================== */
    .pagination-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 2rem;
        height: 2rem;
        font-size: 0.875rem;
        font-weight: 500;
        color: var(--text-primary);
        background: transparent;
        border: 1px solid var(--border);
        border-radius: var(--radius-md);
        cursor: pointer;
        transition: all 0.15s;
    }

    .pagination-btn:hover {
        background: var(--surface);
        border-color: var(--text-muted);
    }

    .pagination-btn.active {
        background: var(--primary);
        border-color: var(--primary);
        color: white;
    }

    /* =====================================================
       QR GENERATOR COMPONENT
       ===================================================== */

    .qr-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
        gap: 16px;
    }

    .qr-card {
        background: var(--card-bg);
        border: 2px solid var(--border);
        border-radius: var(--radius-lg);
        padding: 16px;
        cursor: pointer;
        transition: all 0.2s;
        position: relative;
    }

    .qr-card:hover {
        border-color: var(--primary);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    }

    .qr-card.selected {
        border-color: var(--primary);
        background: rgba(19, 236, 128, 0.05);
    }

    .qr-checkbox {
        position: absolute;
        top: 12px;
        left: 12px;
    }

    .qr-checkbox input {
        width: 18px;
        height: 18px;
        accent-color: var(--primary);
    }

    .qr-code-container {
        display: flex;
        justify-content: center;
        padding: 16px;
    }

    .qr-image {
        width: 120px;
        height: 120px;
        border-radius: var(--radius-md);
    }

    .qr-info {
        text-align: center;
        margin-bottom: 12px;
    }

    .qr-actions {
        display: flex;
        justify-content: center;
        gap: 8px;
        padding-top: 12px;
        border-top: 1px solid var(--border);
    }

    .badge-default {
        background-color: var(--surface);
        color: var(--text-secondary);
        border: 1px solid var(--border);
    }

    /* =====================================================
       REPORTS COMPONENT
       ===================================================== */

    .reports-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
        gap: 16px;
    }

    .report-card {
        background: var(--card-bg);
        border: 1px solid var(--border);
        border-radius: var(--radius-lg);
        padding: 20px;
        display: flex;
        align-items: center;
        gap: 16px;
        cursor: pointer;
        transition: all 0.2s;
    }

    .report-card:hover {
        border-color: var(--primary);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        transform: translateY(-2px);
    }

    .report-icon {
        width: 48px;
        height: 48px;
        border-radius: var(--radius-md);
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
    }

    .report-icon.bg-blue {
        background: rgba(59, 130, 246, 0.1);
        color: #3b82f6;
    }

    .report-icon.bg-green {
        background: rgba(16, 185, 129, 0.1);
        color: #10b981;
    }

    .report-icon.bg-purple {
        background: rgba(139, 92, 246, 0.1);
        color: #8b5cf6;
    }

    .report-icon.bg-red {
        background: rgba(239, 68, 68, 0.1);
        color: #ef4444;
    }

    .report-icon.bg-orange {
        background: rgba(249, 115, 22, 0.1);
        color: #f97316;
    }

    .report-icon.bg-teal {
        background: rgba(20, 184, 166, 0.1);
        color: #14b8a6;
    }

    .report-info {
        flex: 1;
    }

    .report-info h3 {
        font-size: 1rem;
        font-weight: 600;
        margin-bottom: 4px;
        color: var(--text-primary);
    }

    .report-arrow {
        color: var(--text-muted);
        transition: transform 0.2s;
    }

    .report-card:hover .report-arrow {
        transform: translateX(4px);
        color: var(--primary);
    }

    /* =====================================================
       SETTINGS COMPONENT
       ===================================================== */

    .settings-tabs {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
    }

    .settings-tab {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 10px 16px;
        border: 1px solid var(--border);
        border-radius: var(--radius-md);
        background: var(--card-bg);
        font-size: 0.875rem;
        font-weight: 500;
        color: var(--text-muted);
        cursor: pointer;
        transition: all 0.2s;
    }

    .settings-tab:hover {
        border-color: var(--primary);
        color: var(--text-primary);
    }

    .settings-tab.active {
        background: rgba(19, 236, 128, 0.1);
        border-color: var(--primary);
        color: var(--primary);
    }

    .settings-panel {
        display: none;
    }

    .settings-panel.active {
        display: block;
        animation: fadeIn 0.2s ease-out;
    }

    .settings-group {
        display: flex;
        flex-direction: column;
        gap: 16px;
    }

    .setting-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 16px;
        background: var(--surface-bg);
        border-radius: var(--radius-md);
    }

    /* Toggle Switch */
    .toggle-switch {
        position: relative;
        display: inline-block;
        width: 44px;
        height: 24px;
    }

    .toggle-switch input {
        opacity: 0;
        width: 0;
        height: 0;
    }

    .toggle-slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #cbd5e1;
        border-radius: 24px;
        transition: 0.3s;
    }

    .toggle-slider:before {
        position: absolute;
        content: "";
        height: 18px;
        width: 18px;
        left: 3px;
        bottom: 3px;
        background-color: white;
        border-radius: 50%;
        transition: 0.3s;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
    }

    .toggle-switch input:checked+.toggle-slider {
        background-color: var(--primary);
    }

    .toggle-switch input:checked+.toggle-slider:before {
        transform: translateX(20px);
    }

    /* SLA Grid */
    .sla-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 16px;
    }

    @media (max-width: 768px) {
        .sla-grid {
            grid-template-columns: repeat(2, 1fr);
        }
    }

    .sla-rule-card {
        padding: 16px;
        background: var(--surface-bg);
        border-radius: var(--radius-md);
        text-align: center;
        border: 1px solid transparent;
    }

    .sla-rule-card:hover {
        border-color: var(--border);
    }

    .sla-badge {
        display: inline-block;
        padding: 6px 12px;
        border-radius: var(--radius-sm);
        font-weight: 600;
        font-size: 0.75rem;
        text-transform: uppercase;
    }

    .sla-badge.critical {
        background: rgba(239, 68, 68, 0.1);
        color: #ef4444;
    }

    .sla-badge.high {
        background: rgba(249, 115, 22, 0.1);
        color: #f97316;
    }

    .sla-badge.medium {
        background: rgba(234, 179, 8, 0.1);
        color: #eab308;
    }

    .sla-badge.low {
        background: rgba(100, 116, 139, 0.1);
        color: #64748b;
    }

    /* Integration Cards */
    .integration-card {
        display: flex;
        align-items: center;
        gap: 16px;
        padding: 16px;
        background: var(--surface-bg);
        border-radius: var(--radius-md);
        margin-bottom: 12px;
    }

    .integration-info {
        flex: 1;
    }

    /* Differential Updates Animations */
    @keyframes row-update-flash {
        0% {
            background-color: transparent;
        }

        20% {
            background-color: var(--primary-light);
        }

        100% {
            background-color: transparent;
        }
    }

    /* Sync Pulse Animation */
    @keyframes sync-pulse {
        0% {
            opacity: 1;
            transform: scale(1);
        }

        50% {
            opacity: 0.4;
            transform: scale(0.8);
        }

        100% {
            opacity: 1;
            transform: scale(1);
        }
    }

    .sync-indicator {
        display: none;
        align-items: center;
        gap: 6px;
        padding: 4px 10px;
        background: var(--primary-softer);
        border: 1px solid var(--primary-light);
        border-radius: 20px;
        color: var(--primary);
        font-size: 0.75rem;
        font-weight: 600;
    }

    .sync-indicator.active {
        display: flex;
    }

    .sync-indicator .material-symbols-outlined {
        font-size: 14px;
        animation: sync-pulse 1.5s infinite ease-in-out;
    }

    /* Enhanced Row Flash */
    .row-update-flash {
        animation: row-flash 2s ease-out;
    }

    @keyframes row-flash {
        0% {
            background-color: var(--primary-softer);
        }

        100% {
            background-color: transparent;
        }
    }

    .row-update-flash td {
        border-color: var(--primary) !important;
        transition: border-color 0.5s ease;
    }

    /* VKS UI Skill: Loading & Toast Components */
    #loading-overlay {
        position: fixed;
        inset: 0;
        z-index: 10000;
        display: none;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background: rgba(15, 23, 42, 0.8);
        backdrop-filter: blur(4px);
    }

    #loading-overlay.active {
        display: flex;
    }

    .loading-spinner {
        width: 3rem;
        height: 3rem;
        border: 3px solid rgba(255, 255, 255, 0.1);
        border-top-color: var(--primary);
        border-radius: 50%;
        animation: spin 0.8s linear infinite;
    }

    .loading-message {
        margin-top: 1rem;
        color: white;
        font-weight: 600;
        letter-spacing: 0.025em;
    }

    /* Dead toast CSS removed — fully overridden by iOS 26 toast at bottom of file */

    /* VKS UI Skill: Animation Framework */
    @keyframes fadeIn {
        from {
            opacity: 0;
        }

        to {
            opacity: 1;
        }
    }

    @keyframes fadeOut {
        from {
            opacity: 1;
        }

        to {
            opacity: 0;
        }
    }

    @keyframes slideIn {
        from {
            opacity: 0;
            transform: translateY(20px) scale(0.95);
        }

        to {
            opacity: 1;
            transform: translateY(0) scale(1);
        }
    }

    @keyframes slideOut {
        from {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        to {
            opacity: 0;
            transform: translateY(20px) scale(0.95);
        }
    }

    @keyframes spin {
        to {
            transform: rotate(360deg);
        }
    }

    /* =====================================================
     SKELETON LOADING - Amazon-style instant UI feedback
     ===================================================== */
    @keyframes shimmer {
        0% {
            background-position: -200% 0;
        }

        100% {
            background-position: 200% 0;
        }
    }

    .skeleton {
        background: linear-gradient(90deg,
                #f0f0f0 25%,
                #e8e8e8 37%,
                #f0f0f0 63%);
        background-size: 200% 100%;
        animation: shimmer 1.5s ease-in-out infinite;
        border-radius: var(--radius-sm);
    }

    .skeleton-text {
        height: 1rem;
        width: 100%;
        border-radius: var(--radius-sm);
    }

    .skeleton-text-sm {
        height: 0.75rem;
        width: 60%;
    }

    .skeleton-text-lg {
        height: 1.25rem;
        width: 80%;
    }

    .skeleton-circle {
        border-radius: 50%;
    }

    .skeleton-avatar {
        width: 3rem;
        height: 3rem;
        border-radius: 50%;
    }

    .skeleton-card {
        padding: 1rem;
        border-radius: var(--radius-lg);
        min-height: 80px;
    }

    .skeleton-chip {
        display: inline-block;
        height: 2rem;
        width: 6rem;
        border-radius: var(--radius-full);
    }

    .skeleton-badge {
        display: inline-block;
        height: 1.5rem;
        width: 4rem;
        border-radius: var(--radius-sm);
    }

    /* Skeleton container for layouts */
    .skeleton-row {
        display: flex;
        align-items: center;
        gap: 0.75rem;
    }

    .skeleton-stack {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
    }

    /* Hide skeleton when data loaded */
    .loaded .skeleton,
    .loaded [class*="skeleton-"] {
        display: none;
    }

    /* =====================================================
       PERFORMANCE PAGE STYLES
       ===================================================== */

    /* Section Header */
    .perf-section-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        flex-wrap: wrap;
        gap: 1rem;
    }

    .perf-section-icon {
        width: 2.5rem;
        height: 2.5rem;
        border-radius: var(--radius-md);
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .perf-section-icon .material-symbols-outlined {
        font-size: 1.25rem;
    }

    /* Filter Pills */
    .perf-filter-pills {
        display: flex;
        gap: 0.5rem;
        flex-wrap: wrap;
    }

    .perf-pill {
        padding: 0.375rem 0.75rem;
        border-radius: var(--radius-full);
        font-size: 0.75rem;
        font-weight: 500;
        border: 1px solid var(--border);
        background: var(--surface);
        color: var(--text-secondary);
        cursor: pointer;
        transition: all 0.15s ease;
        display: flex;
        align-items: center;
        gap: 0.25rem;
    }

    .perf-pill:hover {
        border-color: var(--primary);
        color: var(--primary);
    }

    .perf-pill.active {
        background: var(--primary);
        border-color: var(--primary);
        color: white;
    }

    .perf-pill .material-symbols-outlined {
        font-size: 0.875rem;
    }

    /* Inspection Logs Shift Filter Pills */
    .inspection-shift-pills {
        display: flex;
        gap: 0.5rem;
        padding: 0 1.5rem;
        margin-bottom: 0.75rem;
    }

    .insp-shift-pill {
        padding: 0.375rem 0.875rem;
        border-radius: var(--radius-full);
        font-size: 0.8rem;
        font-weight: 500;
        border: 1px solid var(--border);
        background: var(--surface);
        color: var(--text-secondary);
        cursor: pointer;
        transition: all 0.15s ease;
        display: flex;
        align-items: center;
        gap: 0.375rem;
    }

    .insp-shift-pill:hover {
        border-color: var(--primary);
        color: var(--primary);
    }

    .insp-shift-pill.active {
        background: var(--primary);
        border-color: var(--primary);
        color: white;
    }

    /* Stats Row */
    .perf-stats-row {
        display: flex;
        gap: 1rem;
        flex-wrap: wrap;
    }

    .perf-stat-card {
        flex: 1;
        min-width: 100px;
        padding: 1rem;
        background: var(--hover-bg);
        border-radius: var(--radius-lg);
        text-align: center;
    }

    .perf-stat-value {
        font-size: 1.75rem;
        font-weight: 700;
        color: var(--text-primary);
        line-height: 1.2;
    }

    .perf-stat-value small {
        font-size: 0.875rem;
        font-weight: 500;
        color: var(--text-muted);
    }

    .perf-stat-label {
        font-size: 0.75rem;
        color: var(--text-muted);
        margin-top: 0.25rem;
    }

    .perf-stat-trend {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.25rem;
        font-size: 0.75rem;
        font-weight: 500;
        margin-top: 0.5rem;
    }

    .perf-stat-trend .material-symbols-outlined {
        font-size: 1rem;
    }

    .perf-stat-progress {
        margin-top: 0.5rem;
    }

    /* Circular Progress */
    .perf-stat-circular {
        position: relative;
        width: 60px;
        height: 60px;
        margin: 0 auto;
    }

    .circular-chart {
        width: 100%;
        height: 100%;
        transform: rotate(-90deg);
    }

    .circle-bg {
        fill: none;
        stroke: var(--border);
        stroke-width: 3;
    }

    .circle-fg {
        fill: none;
        stroke: var(--primary);
        stroke-width: 3;
        stroke-linecap: round;
        transition: stroke-dasharray 0.6s ease;
    }

    .circular-value {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 0.875rem;
        font-weight: 700;
        color: var(--text-primary);
    }

    /* NEW: KPI Target Line */
    .perf-stat-target {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.25rem;
        font-size: 0.7rem;
        margin-top: 0.5rem;
    }

    .perf-stat-target .material-symbols-outlined {
        font-size: 0.875rem;
    }

    /* NEW: KPI Badge Container */
    .perf-stat-badge {
        margin-top: 0.5rem;
    }

    .perf-stat-badge .badge {
        display: inline-flex;
        align-items: center;
        gap: 0.25rem;
        padding: 0.25rem 0.5rem;
        font-size: 0.65rem;
        font-weight: 600;
        border-radius: var(--radius-full);
    }

    .perf-stat-badge .badge-success {
        background: rgba(16, 185, 129, 0.15);
        color: #059669;
    }

    .perf-stat-badge .badge-warning {
        background: rgba(245, 158, 11, 0.15);
        color: #d97706;
    }

    .perf-stat-badge .badge-danger {
        background: rgba(239, 68, 68, 0.15);
        color: #dc2626;
    }

    .perf-stat-badge .material-symbols-outlined {
        font-size: 0.75rem;
    }

    /* NEW: KPI Sublabel */
    .perf-stat-sublabel {
        font-size: 0.7rem;
        margin-top: 0.25rem;
    }

    /* NEW: Shift Color Highlights */
    .perf-shift-highlight {
        transition: color 0.3s ease;
    }

    .perf-shift-1 {
        color: #3b82f6 !important;
    }

    .perf-shift-2 {
        color: #f97316 !important;
    }

    .perf-shift-3 {
        color: #8b5cf6 !important;
    }

    /* Progress Bar */
    .progress-bar {
        width: 100%;
        height: 0.5rem;
        background: var(--border);
        border-radius: var(--radius-full);
        overflow: hidden;
    }

    .progress-bar.h-3 {
        height: 0.75rem;
    }

    .progress-fill {
        height: 100%;
        transition: width 0.6s ease;
        border-radius: var(--radius-full);
    }

    .bg-blue-500 {
        background: #3b82f6;
    }

    .bg-orange-500 {
        background: #f97316;
    }

    .bg-green-500 {
        background: #10b981;
    }

    .bg-red-500 {
        background: #ef4444;
    }

    /* Scatter Chart */
    .perf-chart-container {
        margin-top: 1.5rem;
        border: 1px solid var(--border);
        border-radius: var(--radius-lg);
        padding: 1rem;
        background: var(--hover-bg);
    }

    .perf-chart-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 1rem;
    }

    .perf-chart-controls {
        display: flex;
        align-items: center;
        gap: 0.25rem;
    }

    .perf-toggle {
        padding: 0.25rem 0.75rem;
        font-size: 0.75rem;
        font-weight: 500;
        border: 1px solid var(--border);
        background: var(--surface);
        color: var(--text-secondary);
        cursor: pointer;
        transition: all 0.15s ease;
    }

    .perf-toggle:first-child {
        border-radius: var(--radius-md) 0 0 var(--radius-md);
    }

    .perf-toggle:last-of-type {
        border-radius: 0 var(--radius-md) var(--radius-md) 0;
    }

    .perf-toggle.active {
        background: var(--primary);
        border-color: var(--primary);
        color: white;
    }

    .scatter-chart-wrapper {
        display: flex;
        height: 220px;
    }

    .scatter-y-axis {
        width: 50px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        padding: 10px 0;
        font-size: 0.625rem;
        color: var(--text-muted);
        text-align: right;
        padding-right: 0.5rem;
    }

    .scatter-plot-area {
        flex: 1;
        position: relative;
        border-left: 1px solid var(--border);
        border-bottom: 1px solid var(--border);
    }

    .scatter-svg {
        width: 100%;
        height: 100%;
    }

    .scatter-dot {
        cursor: pointer;
        transition: r 0.15s ease;
    }

    .scatter-dot:hover {
        r: 6;
    }

    .scatter-x-axis {
        position: absolute;
        bottom: -20px;
        left: 0;
        right: 0;
        display: flex;
        justify-content: space-around;
    }

    .scatter-x-axis span {
        font-size: 0.625rem;
        color: var(--text-muted);
        position: absolute;
        transform: translateX(-50%);
    }

    .scatter-legend {
        display: flex;
        justify-content: center;
        gap: 1rem;
        margin-top: 1.5rem;
        flex-wrap: wrap;
    }

    .legend-item {
        display: flex;
        align-items: center;
        gap: 0.375rem;
        font-size: 0.75rem;
        color: var(--text-secondary);
    }

    .legend-dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
    }

    .legend-dot.shift-1 {
        background: #3b82f6;
    }

    .legend-dot.shift-2 {
        background: #f97316;
    }

    .legend-dot.shift-3 {
        background: #8b5cf6;
    }

    .legend-dot.special-stationary {
        background: #ef4444;
    }

    .legend-dot.special-onboarding {
        background: #10b981;
    }

    /* Scatter Tooltip */
    .scatter-tooltip {
        position: fixed;
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: var(--radius-md);
        padding: 0.5rem 0.75rem;
        font-size: 0.75rem;
        box-shadow: var(--shadow-lg);
        z-index: 1000;
        pointer-events: none;
    }

    .scatter-tooltip.hidden {
        display: none;
    }

    .tooltip-date {
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: 0.25rem;
    }

    /* Leaderboard */
    .perf-leaderboard {
        background: var(--hover-bg);
        border-radius: var(--radius-lg);
        padding: 1rem;
    }

    .leaderboard-list {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
    }

    .leaderboard-item {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        padding: 0.5rem 0.75rem;
        background: var(--surface);
        border-radius: var(--radius-md);
        cursor: pointer;
        transition: all 0.15s ease;
    }

    .leaderboard-item:hover {
        background: var(--primary-light);
    }

    .rank-badge {
        width: 1.75rem;
        height: 1.75rem;
        border-radius: var(--radius-full);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.625rem;
        font-weight: 700;
        color: white;
    }

    .rank-badge.gold {
        background: linear-gradient(135deg, #f59e0b, #d97706);
    }

    .rank-badge.silver {
        background: linear-gradient(135deg, #94a3b8, #64748b);
    }

    .rank-badge.bronze {
        background: linear-gradient(135deg, #d97706, #b45309);
    }

    .leaderboard-item .name {
        flex: 1;
        font-size: 0.875rem;
        font-weight: 500;
    }

    .leaderboard-item .score {
        font-size: 0.75rem;
        color: var(--primary);
        font-weight: 600;
    }

    .leaderboard-item .score small {
        color: var(--text-muted);
        font-weight: 400;
    }

    /* Coverage Bar */
    .perf-coverage-bar {
        background: var(--hover-bg);
        border-radius: var(--radius-lg);
        padding: 1rem;
    }

    .coverage-label {
        display: flex;
        justify-content: space-between;
        font-size: 0.875rem;
        margin-bottom: 0.5rem;
    }

    .coverage-label span:last-child {
        font-weight: 700;
        color: var(--primary);
    }

    /* Uncovered Sites List */
    .perf-uncovered {
        background: var(--warning-light);
        border-radius: var(--radius-md);
        padding: 0.75rem;
    }

    .perf-uncovered h4 {
        display: flex;
        align-items: center;
        gap: 0.375rem;
    }

    .uncovered-list {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .uncovered-list li {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0.375rem 0;
        font-size: 0.75rem;
        border-bottom: 1px dashed var(--border);
    }

    .uncovered-list li:last-child {
        border-bottom: none;
    }

    .uncovered-list .site-route {
        font-size: 0.625rem;
    }

    /* Issue Trend Chart */
    .perf-trend-chart {
        background: var(--hover-bg);
        border-radius: var(--radius-lg);
        padding: 1rem;
    }

    .trend-bars {
        display: flex;
        align-items: flex-end;
        justify-content: space-between;
        height: 100px;
        gap: 0.5rem;
    }

    .trend-bar-container {
        flex: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        height: 100%;
    }

    .trend-bar {
        width: 100%;
        max-width: 40px;
        background: linear-gradient(180deg, #ef4444, #f87171);
        border-radius: var(--radius-sm) var(--radius-sm) 0 0;
        display: flex;
        align-items: flex-start;
        justify-content: center;
        padding-top: 0.25rem;
        transition: height 0.3s ease;
    }

    .trend-bar span {
        font-size: 0.625rem;
        font-weight: 600;
        color: white;
    }

    .trend-day {
        font-size: 0.625rem;
        color: var(--text-muted);
        margin-top: 0.25rem;
    }

    /* Issue Timeline */
    .perf-timeline {
        border-top: 1px solid var(--border);
        padding-top: 1rem;
    }

    .timeline-list {
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
    }

    .timeline-item {
        display: flex;
        gap: 0.75rem;
        padding: 0.5rem 0;
    }

    .timeline-dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        margin-top: 0.25rem;
        flex-shrink: 0;
    }

    .bg-danger {
        background: #ef4444;
    }

    .bg-warning {
        background: #f59e0b;
    }

    .bg-success {
        background: #10b981;
    }

    .timeline-content {
        flex: 1;
    }

    .timeline-header {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.75rem;
        color: var(--text-muted);
        margin-bottom: 0.25rem;
    }

    .timeline-desc {
        font-size: 0.875rem;
        color: var(--text-primary);
    }

    /* Color utilities */
    .text-success {
        color: var(--success);
    }

    .text-warning {
        color: var(--warning);
    }

    .text-danger {
        color: var(--error);
    }

    .bg-blue-100 {
        background: #dbeafe;
    }

    .text-blue-600 {
        color: #2563eb;
    }

    .bg-orange-100 {
        background: #ffedd5;
    }

    .text-orange-600 {
        color: #ea580c;
    }

    .bg-green-100 {
        background: #dcfce7;
    }

    .text-green-600 {
        color: #059669;
    }

    .bg-red-100 {
        background: #fee2e2;
    }

    .text-red-600 {
        color: #dc2626;
    }

    /* Card content padding */
    .card-content {
        padding: 1rem;
    }

    /* Loading spinner */
    .loading-spinner {
        width: 40px;
        height: 40px;
        border: 3px solid var(--border);
        border-top-color: var(--primary);
        border-radius: 50%;
        animation: spin 1s linear infinite;
    }

    /* =====================================================
       SKELETON LOADING (P1 Performance Optimization)
       Premium shimmer effect for perceived performance
       ===================================================== */

    /* Shimmer animation keyframes */
    @keyframes shimmer {
        0% {
            background-position: -200% 0;
        }

        100% {
            background-position: 200% 0;
        }
    }

    /* Base skeleton element */
    .skeleton {
        background: linear-gradient(90deg,
                var(--hover-bg) 25%,
                #e2e8f0 50%,
                var(--hover-bg) 75%);
        background-size: 200% 100%;
        animation: shimmer 1.5s infinite ease-in-out;
        border-radius: var(--radius-sm);
    }

    /* Skeleton row for tables */
    .skeleton-row td {
        position: relative;
        overflow: hidden;
    }

    .skeleton-row td::after {
        content: '';
        display: block;
        height: 1rem;
        background: linear-gradient(90deg,
                var(--hover-bg) 25%,
                #e2e8f0 50%,
                var(--hover-bg) 75%);
        background-size: 200% 100%;
        animation: shimmer 1.5s infinite ease-in-out;
        border-radius: var(--radius-sm);
    }

    /* Skeleton text line */
    .skeleton-text {
        height: 1rem;
        width: 100%;
        background: linear-gradient(90deg,
                var(--hover-bg) 25%,
                #e2e8f0 50%,
                var(--hover-bg) 75%);
        background-size: 200% 100%;
        animation: shimmer 1.5s infinite ease-in-out;
        border-radius: var(--radius-sm);
    }

    .skeleton-text.short {
        width: 60%;
    }

    .skeleton-text.medium {
        width: 80%;
    }

    /* Skeleton circle (for avatars) */
    .skeleton-circle {
        width: 2.5rem;
        height: 2.5rem;
        border-radius: 50%;
        background: linear-gradient(90deg,
                var(--hover-bg) 25%,
                #e2e8f0 50%,
                var(--hover-bg) 75%);
        background-size: 200% 100%;
        animation: shimmer 1.5s infinite ease-in-out;
    }

    /* Skeleton card */
    .skeleton-card {
        padding: 1rem;
        background: var(--surface);
        border-radius: var(--radius-lg);
        border: 1px solid var(--border);
    }

    .skeleton-card .skeleton-text+.skeleton-text {
        margin-top: 0.5rem;
    }

    /* Skeleton KPI card */
    .skeleton-kpi {
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
    }

    .skeleton-kpi .skeleton-icon {
        width: 3rem;
        height: 3rem;
        border-radius: var(--radius-md);
    }

    .skeleton-kpi .skeleton-value {
        height: 2rem;
        width: 50%;
    }

    /* Pulse animation for loading badges */
    @keyframes pulse {

        0%,
        100% {
            opacity: 1;
        }

        50% {
            opacity: 0.5;
        }
    }

    .pulse {
        animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }

    /* =====================================================
       V2-STYLE SCATTER CHART (Performance Page)
       ===================================================== */
    .shift-graph-container {
        position: relative;
    }

    .shift-graph-wrapper {
        position: relative;
        height: 350px;
        width: calc(100% - 55px);
        margin-left: 55px;
        border-left: 1px solid var(--border);
        border-bottom: 1px solid var(--border);
        border-radius: 4px;
    }

    .shift-y-axis {
        position: absolute;
        left: -55px;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        font-size: 10px;
        color: var(--text-muted);
        text-align: right;
        width: 50px;
        padding-right: 8px;
    }

    .shift-x-axis {
        display: flex;
        justify-content: space-between;
        margin-left: 55px;
        margin-top: 12px;
        font-size: 10px;
        color: var(--text-muted);
    }

    /* Shift Background Regions */
    .shift-region {
        position: absolute;
        left: 0;
        right: 0;
        width: 100%;
    }

    .shift-1-region {
        top: 0;
        height: 33.33%;
        background: rgba(59, 130, 246, 0.07);
        border-bottom: 1px dashed var(--border);
    }

    .shift-2-region {
        top: 33.33%;
        height: 33.33%;
        background: rgba(245, 158, 11, 0.07);
        border-bottom: 1px dashed var(--border);
    }

    .shift-3-region {
        top: 66.66%;
        height: 33.34%;
        background: rgba(168, 85, 247, 0.07);
    }

    /* Vertical Grid Lines */
    .shift-v-grid {
        position: absolute;
        inset: 0;
        display: flex;
        justify-content: space-between;
        pointer-events: none;
    }

    .shift-v-grid-line {
        width: 1px;
        height: 100%;
        background: var(--border);
        opacity: 0.3;
    }

    /* Scatter SVG */
    .shift-scatter-svg {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        overflow: visible;
        z-index: 10;
    }

    .shift-dot {
        cursor: pointer;
        transition: transform 0.15s ease;
    }

    .shift-dot:hover {
        transform: scale(1.5);
    }

    /* Aggregate Tooltip (Fixed positioning) */
    .scatter-tooltip {
        position: fixed;
        z-index: 1000;
        background: white;
        padding: 12px;
        border-radius: var(--radius-md);
        box-shadow: var(--shadow-lg);
        border: 1px solid var(--border);
        min-width: 150px;
        font-size: 12px;
        pointer-events: none;
    }

    .scatter-tooltip.hidden {
        display: none;
    }

    /* Fullscreen Mode for Scatter Chart */
    .perf-chart-container.is-fullscreen,
    .perf-chart-container:fullscreen {
        background: var(--background);
        padding: 2rem;
        display: flex;
        flex-direction: column;
    }

    .perf-chart-container.is-fullscreen .shift-graph-wrapper,
    .perf-chart-container:fullscreen .shift-graph-wrapper {
        flex: 1;
        height: auto;
        min-height: 500px;
    }

    .perf-chart-container.is-fullscreen .perf-chart-header,
    .perf-chart-container:fullscreen .perf-chart-header {
        margin-bottom: 1.5rem;
    }

    .perf-chart-container.is-fullscreen .scatter-legend,
    .perf-chart-container:fullscreen .scatter-legend {
        margin-top: 2rem;
    }

    /* =====================================================
       PERFORMANCE FILTER ADDITIONS  
       ===================================================== */

    /* Multi-select badge */
    .multi-select-badge {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        min-width: 1.25rem;
        height: 1.25rem;
        padding: 0 0.35rem;
        background: var(--primary);
        color: white;
        font-size: 0.75rem;
        font-weight: 600;
        border-radius: 9999px;
        margin-left: 0.25rem;
    }

    .multi-select-badge.hidden {
        display: none;
    }

    /* Filter row layout */
    .perf-filter-row {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
        align-items: flex-end;
    }

    .perf-filter-dropdown {
        position: relative;
    }

    /* Responsive adjustments for Performance filters */
    @media (max-width: 768px) {
        .perf-filter-row {
            flex-direction: column;
            align-items: stretch;
        }

        .perf-filter-dropdown {
            width: 100%;
        }

        .perf-filter-dropdown .custom-select {
            width: 100%;
        }
    }

    /* ===========================================
       PERFORMANCE TAB BAR
       =========================================== */
    .perf-tab-bar {
        background: var(--surface);
        border-radius: var(--radius-lg);
        padding: 0.5rem;
        box-shadow: var(--shadow-sm);
        border: 1px solid var(--border);
    }

    .perf-tabs {
        display: flex;
        gap: 0.25rem;
        align-items: center;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }

    .perf-tab {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.625rem 1rem;
        border: none;
        background: transparent;
        color: var(--text-secondary);
        font-size: 0.875rem;
        font-weight: 500;
        border-radius: var(--radius-md);
        cursor: pointer;
        white-space: nowrap;
        transition: all 0.2s ease;
    }

    .perf-tab:hover {
        background: var(--hover-bg);
        color: var(--text-primary);
    }

    .perf-tab.active {
        background: var(--primary);
        color: var(--primary-content);
    }

    .perf-tab .material-symbols-outlined {
        font-size: 1.125rem;
    }

    /* More Dropdown */
    .perf-tab-more {
        position: relative;
        margin-left: auto;
    }

    .perf-more-menu {
        position: absolute;
        top: 100%;
        right: 0;
        margin-top: 0.5rem;
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: var(--radius-md);
        box-shadow: var(--shadow-lg);
        min-width: 160px;
        z-index: 100;
        overflow: hidden;
    }

    .perf-more-item {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        width: 100%;
        padding: 0.75rem 1rem;
        border: none;
        background: transparent;
        color: var(--text-secondary);
        font-size: 0.875rem;
        cursor: pointer;
        transition: all 0.15s ease;
    }

    .perf-more-item:hover {
        background: var(--hover-bg);
        color: var(--text-primary);
    }

    .perf-more-item.active {
        background: var(--primary-light);
        color: var(--primary);
    }

    .perf-more-item .material-symbols-outlined {
        font-size: 1.125rem;
    }

    /* Tab Content Animation */
    .perf-tab-content {
        animation: fadeIn 0.2s ease;
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(4px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* Responsive */
    @media (max-width: 768px) {
        .perf-tabs {
            gap: 0.125rem;
        }

        .perf-tab {
            padding: 0.5rem 0.75rem;
            font-size: 0.8125rem;
        }

        .perf-tab span:not(.material-symbols-outlined) {
            display: none;
        }

        .perf-tab .material-symbols-outlined {
            font-size: 1.25rem;
        }
    }

    /* =========================================
       EXPORT MODAL STYLES (Refined)
       ========================================= */
    .export-dialog {
        width: 1000px;
        max-width: 95vw;
        height: 85vh;
        max-height: 800px;
        display: flex;
        flex-direction: column;
        padding: 0;
        overflow: hidden;
        border-radius: var(--radius-xl);
    }

    .export-layout {
        display: flex;
        flex: 1;
        overflow: hidden;
        min-height: 0;
    }

    /* Left Pane: Preview Column */
    .export-preview-pane {
        flex: 1;
        background: var(--bg-secondary);
        border-right: 1px solid var(--border);
        display: flex;
        flex-direction: column;
        overflow: hidden;
    }

    .export-toolbar {
        height: 60px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: white;
        border-bottom: 1px solid var(--border);
        flex-shrink: 0;
        z-index: 10;
    }

    .export-pagination {
        display: flex;
        align-items: center;
        gap: 1rem;
        background: var(--surface);
        padding: 0.25rem 0.5rem;
        border-radius: var(--radius-full);
        border: 1px solid var(--border);
    }

    .export-preview-scroll {
        flex: 1;
        overflow-y: auto;
        padding: 2rem;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .export-pdf-page {
        width: 100%;
        max-width: 595px;
        /* A4 width */
        min-height: 842px;
        /* A4 height */
        background: white;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        padding: 3rem;
        border-radius: 2px;
        color: var(--text-primary);
        margin-bottom: 2rem;
        border: 1px solid var(--border);
    }

    /* Right Pane: Sidebar */
    .export-sidebar {
        width: 320px;
        background: white;
        display: flex;
        flex-direction: column;
        min-width: 320px;
    }

    .export-sidebar-content {
        flex: 1;
        padding: 1.5rem;
        overflow-y: auto;
    }

    .export-sidebar-footer {
        padding: 1rem 1.5rem;
        border-top: 1px solid var(--border);
        background: var(--surface);
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    .export-footer-info {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 0.8125rem;
        color: var(--text-secondary);
    }

    /* List Items - Cleaner Design */
    .export-bundle-list {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        margin-top: 1rem;
    }

    .export-bundle-item {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        padding: 0.75rem;
        border: 1px solid transparent;
        border-radius: var(--radius-lg);
        background: transparent;
        cursor: pointer;
        transition: all 0.2s ease;
    }

    .export-bundle-item:hover {
        background: var(--hover-bg);
    }

    .export-bundle-item.active {
        background: var(--primary-50);
        color: var(--primary-dark);
    }

    .export-bundle-item .text-xs {
        font-size: 0.875rem;
        /* Increase text size slightly */
    }

    /* Checkbox Styling override */
    .report-loc-checkbox {
        width: 1rem;
        height: 1rem;
        border-radius: 4px;
        border: 1px solid var(--text-tertiary);
        margin: 0;
    }

    .export-pdf-header {
        margin-bottom: 2rem;
        border-bottom: 2px solid var(--primary);
        padding-bottom: 1rem;
    }

    .export-pdf-title {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--text-primary);
        line-height: 1.2;
    }

    /* =====================================================
       NON-DESTRUCTIVE PAGE REFRESH OVERLAY
       Layer 1: Keeps content visible during data refresh
       ===================================================== */
    .page-refresh-overlay {
        position: absolute;
        inset: 0;
        background: rgba(15, 23, 42, 0.25);
        backdrop-filter: blur(2px);
        -webkit-backdrop-filter: blur(2px);
        z-index: 10;
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.2s ease;
        border-radius: inherit;
    }

    .page-refresh-overlay.active {
        opacity: 1;
        pointer-events: auto;
    }

    .refresh-spinner {
        width: 36px;
        height: 36px;
        border: 3px solid rgba(255, 255, 255, 0.15);
        border-top-color: var(--primary);
        border-radius: 50%;
        animation: spin 0.6s linear infinite;
    }

    @keyframes spin {
        to {
            transform: rotate(360deg);
        }
    }

    /* =====================================================
       PHOTO UPLOAD
       ===================================================== */
    .upload-drop-zone {
        border: 2px dashed var(--border, #e5e7eb);
        border-radius: 12px;
        padding: 1.5rem;
        text-align: center;
        cursor: pointer;
        transition: all 0.2s ease;
        background: var(--bg-hover, #f9fafb);
    }

    .upload-drop-zone:hover,
    .upload-drop-zone.drag-over {
        border-color: var(--primary, #10b981);
        background: rgba(16, 185, 129, 0.05);
    }

    .photo-preview-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 0.75rem;
        margin-top: 0.75rem;
    }

    .photo-preview-item {
        position: relative;
        border-radius: 8px;
        overflow: hidden;
        aspect-ratio: 1;
        border: 1px solid var(--border, #e5e7eb);
        background: #f3f4f6;
    }

    .photo-preview-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .photo-preview-item .photo-remove-btn {
        position: absolute;
        top: 4px;
        right: 4px;
        width: 22px;
        height: 22px;
        border-radius: 50%;
        background: rgba(0, 0, 0, 0.6);
        color: white;
        border: none;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
        line-height: 1;
        transition: background 0.2s;
    }

    .photo-preview-item .photo-remove-btn:hover {
        background: rgba(220, 38, 38, 0.9);
    }

    .photo-preview-item .photo-size {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 2px 6px;
        background: rgba(0, 0, 0, 0.5);
        color: white;
        font-size: 10px;
        text-align: center;
    }

    /* ===== LEAFLET MAP CONTROLS — iOS Style ===== */
    .leaflet-control-attribution {
        display: none !important;
    }

    .leaflet-control-zoom {
        border: none !important;
        border-radius: 12px !important;
        overflow: hidden;
        box-shadow: 0 2px 12px rgba(0, 0, 0, 0.12), 0 1px 4px rgba(0, 0, 0, 0.08) !important;
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
    }

    .leaflet-control-zoom a {
        width: 40px !important;
        height: 40px !important;
        line-height: 40px !important;
        font-size: 20px !important;
        font-weight: 300 !important;
        color: #1c1c1e !important;
        background: rgba(255, 255, 255, 0.88) !important;
        border: none !important;
        border-bottom: 1px solid rgba(0, 0, 0, 0.08) !important;
        transition: background 0.15s ease;
    }

    .leaflet-control-zoom a:last-child {
        border-bottom: none !important;
    }

    .leaflet-control-zoom a:hover {
        background: rgba(255, 255, 255, 1) !important;
        color: #007aff !important;
    }

    .leaflet-control-zoom a:active {
        background: rgba(0, 122, 255, 0.12) !important;
        color: #007aff !important;
    }

    .leaflet-control-zoom a.leaflet-disabled {
        color: #c7c7cc !important;
        background: rgba(255, 255, 255, 0.6) !important;
    }

    body.dark .leaflet-control-zoom a {
        color: #f2f2f7 !important;
        background: rgba(44, 44, 46, 0.88) !important;
        border-bottom: 1px solid rgba(255, 255, 255, 0.08) !important;
    }

    body.dark .leaflet-control-zoom a:hover {
        background: rgba(58, 58, 60, 1) !important;
        color: #0a84ff !important;
    }

    body.dark .leaflet-control-zoom a:active {
        background: rgba(10, 132, 255, 0.2) !important;
        color: #0a84ff !important;
    }

    /* =====================================================
       iOS 26 — TOAST NOTIFICATION (Liquid Glass Pill)
       ===================================================== */
    .toast {
        position: fixed;
        top: 0;
        left: 50%;
        transform: translateX(-50%) translateY(-100%);
        min-width: 200px;
        max-width: 380px;
        padding: 12px 20px 12px 16px;
        border-radius: var(--radius-full);
        background: var(--surface);
        border: 1px solid var(--border);
        box-shadow: var(--shadow-lg);
        display: flex;
        align-items: center;
        gap: 10px;
        z-index: 10001;
        font-size: 0.875rem;
        font-weight: 500;
        color: var(--text-primary);
        transition: transform 400ms var(--spring-bounce);
        pointer-events: none;
    }

    .toast.active {
        transform: translateX(-50%) translateY(20px);
        pointer-events: auto;
    }

    .toast::before {
        content: '';
        width: 8px;
        height: 8px;
        border-radius: 50%;
        flex-shrink: 0;
    }

    .toast-success::before {
        background: var(--success);
    }

    .toast-error::before {
        background: var(--error);
    }

    .toast-warning::before {
        background: var(--warning);
    }

    .toast-info::before {
        background: var(--info);
    }

    .toast::after {
        content: '';
        position: absolute;
        bottom: 4px;
        left: 20px;
        right: 20px;
        height: 2px;
        background: var(--primary);
        border-radius: 1px;
        opacity: 0.3;
        animation: toastCountdown 3s linear forwards;
    }

    @keyframes toastCountdown {
        from {
            transform: scaleX(1);
            transform-origin: left;
        }

        to {
            transform: scaleX(0);
            transform-origin: left;
        }
    }

    /* =====================================================
       iOS 26 — SHIMMER LOADING SKELETON
       ===================================================== */
    .skeleton {
        background: linear-gradient(90deg,
                rgba(0, 0, 0, 0.04) 0%,
                rgba(0, 0, 0, 0.08) 50%,
                rgba(0, 0, 0, 0.04) 100%);
        background-size: 200% 100%;
        animation: shimmer 1.8s ease-in-out infinite;
        border-radius: var(--radius-md);
    }

    @keyframes shimmer {
        0% {
            background-position: 200% 0;
        }

        100% {
            background-position: -200% 0;
        }
    }

    .skeleton-line {
        height: 12px;
        margin-bottom: 8px;
    }

    .skeleton-line-short {
        height: 12px;
        width: 65%;
        margin-bottom: 8px;
    }

    .skeleton-title {
        height: 18px;
        width: 45%;
        margin-bottom: 14px;
    }

    .skeleton-avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
    }

    .skeleton-card {
        height: 140px;
        border-radius: var(--radius-xl);
    }

    .skeleton-badge {
        width: 60px;
        height: 22px;
        border-radius: var(--radius-full);
        display: inline-block;
    }

    /* =====================================================
       iOS 26 — NEAR-INVISIBLE SCROLLBAR
       ===================================================== */
    ::-webkit-scrollbar {
        width: 5px;
        height: 5px;
    }

    ::-webkit-scrollbar-track {
        background: transparent;
    }

    ::-webkit-scrollbar-thumb {
        background: rgba(0, 0, 0, 0.12);
        border-radius: 100px;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: rgba(0, 0, 0, 0.2);
    }

    * {
        scrollbar-width: thin;
        scrollbar-color: rgba(0, 0, 0, 0.12) transparent;
    }

    /* =====================================================
       iOS 26 — PAGE BACKGROUND GRADIENT
       ===================================================== */
    .page-container {
        background: linear-gradient(180deg, #f2f2f7 0%, #e8e8ed 100%);
    }

    body.dark .page-container {
        background: linear-gradient(180deg, #020617 0%, #0f172a 100%);
    }

    /* =====================================================
       iOS 26 — MOBILE BOTTOM-SHEET MODAL
       ===================================================== */
    @media (max-width: 768px) {
        .modal-card-solid {
            position: fixed !important;
            bottom: 0 !important;
            left: 0 !important;
            right: 0 !important;
            top: auto !important;
            max-width: 100% !important;
            max-height: 90vh;
            border-radius: 1.25rem 1.25rem 0 0 !important;
            animation: sheetUp var(--duration-slow) var(--spring-bounce) !important;
        }

        @keyframes sheetUp {
            from {
                transform: translateY(100%);
            }

            to {
                transform: translateY(0);
            }
        }

        .modal-card-solid::before {
            content: '';
            display: block;
            width: 36px;
            height: 5px;
            background: rgba(0, 0, 0, 0.15);
            border-radius: 3px;
            margin: 8px auto 4px;
            flex-shrink: 0;
        }
    }

    /* =====================================================
       iOS 26 — ACCESSIBILITY
       ===================================================== */
    @media (prefers-reduced-motion: reduce) {

        *,
        *::before,
        *::after {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
        }

        .modal-card-solid {
            animation: none !important;
        }

        .page-content.active {
            animation: none !important;
            opacity: 1;
        }

        .toast {
            transition-duration: 0.01ms !important;
        }
    }

    @media (prefers-contrast: high) {
        :root {
            --border: rgba(60, 60, 67, 0.25);
            --border-heavy: rgba(60, 60, 67, 0.4);
            --text-secondary: #334155;
        }

        .card,
        .form-input,
        .form-select {
            border-width: 2px;
        }
    }

    /* =====================================================
       AI ANALYSIS TAB — Insight Cards + References
       ===================================================== */

    /* Shared AI utilities (keep backward compat) */
    .ai-loading,
    .ai-loading-state {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        padding: 2rem;
        color: var(--text-secondary);
        font-size: 0.875rem;
    }

    .ai-empty-state {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.75rem;
        padding: 3rem 2rem;
        text-align: center;
    }

    .ai-badge {
        display: inline-flex;
        align-items: center;
        gap: 0.25rem;
        font-size: 0.6875rem;
        font-weight: 500;
        color: var(--text-tertiary);
        letter-spacing: 0.02em;
    }

    /* AI Section Headers */
    .ai-section-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        flex-wrap: wrap;
        gap: 0.75rem;
    }

    .ai-section-icon {
        font-size: 1.5rem;
        flex-shrink: 0;
    }

    .ai-powered-footer {
        text-align: center;
        padding: 1rem;
    }

    /* --- Insight Card Grid --- */
    .ai-insight-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 1rem;
        padding: 1rem;
    }

    @media (min-width: 768px) {
        .ai-insight-grid {
            grid-template-columns: repeat(2, 1fr);
        }
    }

    /* --- Insight Card --- */
    .ai-insight-card {
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: var(--radius-lg);
        padding: 1rem 1.25rem;
        box-shadow: var(--shadow-sm);
        border-left: 4px solid var(--primary);
        transition: box-shadow 0.2s ease, transform 0.15s ease;
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
    }

    .ai-insight-card:hover {
        box-shadow: var(--shadow-md);
        transform: translateY(-1px);
    }

    /* Severity border variants */
    .ai-insight-card.ai-sev-good {
        border-left-color: #10b981;
    }

    .ai-insight-card.ai-sev-warning {
        border-left-color: #f59e0b;
    }

    .ai-insight-card.ai-sev-critical {
        border-left-color: #ef4444;
    }

    /* Card header: icon + title + trend */
    .ai-insight-card .ai-card-header {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0;
        border: none;
    }

    .ai-card-icon {
        font-size: 1.25rem;
        flex-shrink: 0;
    }

    .ai-card-title {
        flex: 1;
        font-weight: 600;
        font-size: 0.875rem;
        color: var(--text-primary);
        line-height: 1.3;
    }

    .ai-card-trend {
        font-size: 1.125rem;
        flex-shrink: 0;
    }

    .ai-trend-improving {
        color: #10b981;
    }

    .ai-trend-declining {
        color: #ef4444;
    }

    .ai-trend-stable {
        color: var(--text-tertiary);
    }

    /* Card detail */
    .ai-card-detail {
        font-size: 0.8125rem;
        line-height: 1.6;
        color: var(--text-secondary);
        margin: 0;
    }

    /* --- Metric Chips --- */
    .ai-metrics-row {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
    }

    .ai-metric-chip {
        display: inline-flex;
        align-items: center;
        gap: 0.25rem;
        padding: 0.25rem 0.625rem;
        border-radius: var(--radius-full);
        background: var(--hover-bg);
        border: 1px solid var(--border);
        font-size: 0.75rem;
    }

    .ai-chip-value {
        font-weight: 700;
        color: var(--text-primary);
    }

    .ai-chip-label {
        color: var(--text-tertiary);
        font-weight: 400;
    }

    .ai-chip-delta {
        font-weight: 600;
        font-size: 0.6875rem;
    }

    .ai-chip-delta.delta-up {
        color: #ef4444;
    }

    .ai-chip-delta.delta-down {
        color: #10b981;
    }

    /* --- Reference Tags --- */
    .ai-ref-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 0.375rem;
    }

    .ai-ref-tag {
        display: inline-flex;
        align-items: center;
        gap: 0.25rem;
        padding: 0.25rem 0.625rem;
        border-radius: var(--radius-full);
        border: 1px solid rgba(99, 102, 241, 0.25);
        background: rgba(99, 102, 241, 0.06);
        color: #6366f1;
        font-size: 0.75rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.15s ease;
    }

    .ai-ref-tag:hover {
        background: rgba(99, 102, 241, 0.12);
        border-color: rgba(99, 102, 241, 0.4);
        box-shadow: 0 0 8px rgba(99, 102, 241, 0.15);
    }

    .ai-ref-tag.active {
        background: rgba(99, 102, 241, 0.15);
        border-color: #6366f1;
    }

    .ai-ref-tag .ai-ref-chevron {
        font-size: 0.875rem;
        transition: transform 0.15s ease;
    }

    .ai-ref-tag.active .ai-ref-chevron {
        transform: rotate(180deg);
    }

    /* --- Reference Expanded Panel --- */
    .ai-ref-expanded {
        background: var(--hover-bg);
        border: 1px solid var(--border);
        border-radius: var(--radius-md);
        padding: 0.75rem;
        margin-top: 0.25rem;
        animation: slideDown 0.2s ease;
    }

    @keyframes slideDown {
        from {
            opacity: 0;
            transform: translateY(-8px);
            max-height: 0;
        }

        to {
            opacity: 1;
            transform: translateY(0);
            max-height: 500px;
        }
    }

    /* --- Reference Table --- */
    .ai-ref-table-wrapper {
        overflow-x: auto;
    }

    .ai-ref-table {
        width: 100%;
        border-collapse: collapse;
        font-size: 0.75rem;
    }

    .ai-ref-table th {
        padding: 0.375rem 0.5rem;
        text-align: left;
        font-weight: 600;
        font-size: 0.6875rem;
        text-transform: uppercase;
        letter-spacing: 0.03em;
        color: var(--text-tertiary);
        border-bottom: 1px solid var(--border);
        background: transparent;
    }

    .ai-ref-table td {
        padding: 0.375rem 0.5rem;
        color: var(--text-primary);
        border-top: 1px solid var(--border);
        font-size: 0.75rem;
    }

    .ai-ref-table tbody tr:hover {
        background: rgba(99, 102, 241, 0.04);
    }

    /* Cell severity highlights */
    .ai-cell-critical {
        color: #ef4444;
        font-weight: 600;
    }

    .ai-cell-warning {
        color: #f59e0b;
        font-weight: 600;
    }

    .ai-cell-good {
        color: #10b981;
        font-weight: 600;
    }

    /* --- Drill-down Link --- */
    .ai-drilldown {
        display: inline-flex;
        align-items: center;
        gap: 0.25rem;
        font-size: 0.75rem;
        font-weight: 500;
        color: #6366f1;
        cursor: pointer;
        padding: 0.25rem 0;
        transition: color 0.15s ease;
    }

    .ai-drilldown:hover {
        color: #4f46e5;
        text-decoration: underline;
    }

    .ai-ref-nav {
        margin-top: 0.5rem;
        padding-top: 0.5rem;
        border-top: 1px solid var(--border);
    }

    /* --- Reference Site Card --- */
    .ai-ref-site-card,
    .ai-ref-guard-card {
        display: flex;
        flex-direction: column;
        gap: 0.375rem;
    }

    .ai-ref-site-name,
    .ai-ref-guard-name {
        font-weight: 600;
        font-size: 0.8125rem;
        color: var(--text-primary);
    }

    .ai-ref-site-details {
        display: flex;
        flex-wrap: wrap;
        gap: 0.75rem;
        font-size: 0.75rem;
        color: var(--text-secondary);
    }

    .ai-ref-site-details span {
        display: inline-flex;
        align-items: center;
        gap: 0.25rem;
    }

    /* Keep old selectors for backward compat */
    .ai-error {
        color: var(--error);
        font-size: 0.875rem;
        text-align: center;
        padding: 1rem;
    }

    .ai-bullet {
        font-size: 0.875rem;
        line-height: 1.6;
        color: var(--text-primary);
        padding: 0.15rem 0;
        margin: 0;
    }

    .ai-sparkle {
        font-size: 1rem;
        animation: sparkle 2s ease-in-out infinite;
    }

    @keyframes sparkle {

        0%,
        100% {
            opacity: 1;
            transform: scale(1);
        }

        50% {
            opacity: 0.7;
            transform: scale(1.1);
        }
    }

    .ai-lang-divider {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        font-size: 0.75rem;
        font-weight: 600;
        color: var(--text-tertiary);
        margin: 0.75rem 0;
        text-transform: uppercase;
    }

    .ai-lang-divider::before,
    .ai-lang-divider::after {
        content: '';
        flex: 1;
        height: 1px;
        background: var(--border);
    }

    /* =====================================================
       INLINE VALIDATION ERROR STYLES
       Applied dynamically to required fields on submit
    ===================================================== */
    .field-error {
        border-color: #EF4444 !important;
        box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.15) !important;
        animation: field-shake 0.4s ease-in-out;
    }

    /* Also style parent custom-select containers */
    .field-error-parent .custom-select-trigger,
    .field-error-parent>div:first-child {
        border-color: #EF4444 !important;
        box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.15) !important;
        animation: field-shake 0.4s ease-in-out;
    }

    /* Priority radio group error */
    .field-error-group {
        outline: 2px solid #EF4444;
        outline-offset: 4px;
        border-radius: 12px;
        animation: field-shake 0.4s ease-in-out;
    }

    @keyframes field-shake {

        0%,
        100% {
            transform: translateX(0);
        }

        20% {
            transform: translateX(-4px);
        }

        40% {
            transform: translateX(4px);
        }

        60% {
            transform: translateX(-3px);
        }

        80% {
            transform: translateX(2px);
        }
    }
</style>